"use strict";(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[958],{8882:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var s=a(5043),n=a(3216);const l=e=>{let{allRoutes:t}=e;return(0,n.Ye)([...t])};var r=a(579);const i=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(362)]).then(a.bind(a,7493)))),o=(0,s.lazy)((()=>a.e(54).then(a.bind(a,2389)))),c=[{path:"/login",element:(0,r.jsx)(i,{})},{path:"/register",element:(0,r.jsx)(o,{})}];var d=a(9379);const m=(0,s.lazy)((()=>Promise.all([a.e(19),a.e(941)]).then(a.bind(a,4941)))),h=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(736)]).then(a.bind(a,9736)))),x=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(146)]).then(a.bind(a,6146)))),u=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(360)]).then(a.bind(a,6360)))),p=(0,s.lazy)((()=>Promise.all([a.e(178),a.e(947)]).then(a.bind(a,3947)))),g=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(178),a.e(154)]).then(a.bind(a,2154)))),j=(0,s.lazy)((()=>Promise.all([a.e(178),a.e(571)]).then(a.bind(a,7571)))),b=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(478)]).then(a.bind(a,2478)))),f=(0,s.lazy)((()=>Promise.all([a.e(178),a.e(130)]).then(a.bind(a,2130)))),v=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(806),a.e(831)]).then(a.bind(a,9831)))),y=[{path:"admin/dashboard",element:(0,r.jsx)(m,{}),role:"admin"},{path:"admin/restaurant",element:(0,r.jsx)(h,{}),role:"admin"},{path:"admin/restaurant/:restaurantId",element:(0,r.jsx)(g,{}),role:"admin"},{path:"admin/shipper",element:(0,r.jsx)(x,{}),role:"admin"},{path:"admin/shipper/:shipperId",element:(0,r.jsx)(j,{}),role:"admin"},{path:"admin/feedback",element:(0,r.jsx)(u,{}),role:"admin"},{path:"/admin/coupon",element:(0,r.jsx)(p,{}),role:"admin"},{path:"admin/order",element:(0,r.jsx)(b,{}),role:"admin"},{path:"admin/order/:orderId",element:(0,r.jsx)(f,{}),role:"admin"},{path:"admin/feedback/:feedbackID",element:(0,r.jsx)(v,{}),role:"admin"}],N=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(19),a.e(966),a.e(849)]).then(a.bind(a,1849)))),_=(0,s.lazy)((()=>a.e(231).then(a.bind(a,231)))),w=(0,s.lazy)((()=>a.e(386).then(a.bind(a,4386)))),k=(0,s.lazy)((()=>Promise.all([a.e(369),a.e(247)]).then(a.bind(a,1247)))),S=(0,s.lazy)((()=>a.e(795).then(a.bind(a,4795)))),C=[...y,...[{path:"restaurant/dashboard",element:(0,r.jsx)(N,{}),role:"restaurant"},{path:"restaurant/products",element:(0,r.jsx)(_,{}),role:"restaurant"},{path:"restaurant/add-product",element:(0,r.jsx)(w,{}),role:"restaurant"},{path:"restaurant/information",element:(0,r.jsx)(k,{}),role:"restaurant"},{path:"restaurant/order",element:(0,r.jsx)(S,{}),role:"restaurant"}]],z=e=>{let{children:t}=e;return!!localStorage.getItem("userToken")?t:(0,r.jsx)(n.C5,{to:"/login",replace:!0})};var E=a(3003),P=a(5475),T=a(1434),I=a(221),L=a(7149),D=a(5263),A=a(2285),R=a(4960);const M=[{id:1,title:"Dashboard",icon:(0,r.jsx)(T.jHl,{}),role:"admin",path:"/admin/dashboard"},{id:3,title:"Nh\xe0 H\xe0ng",icon:(0,r.jsx)(I.WfT,{}),role:"admin",path:"/admin/restaurant"},{id:4,title:"T\xe0i x\u1ebf",icon:(0,r.jsx)(L.F6S,{}),role:"admin",path:"/admin/shipper"},{id:7,title:"M\xe3 gi\u1ea3m gi\xe1",icon:(0,r.jsx)(A.twl,{}),role:"admin",path:"/admin/coupon"},{id:8,title:"\u0110\xe1nh gi\xe1",icon:(0,r.jsx)(L.DEU,{}),role:"admin",path:"/admin/feedback"},{id:10,title:"Dashboard",icon:(0,r.jsx)(T.jHl,{}),role:"seller",path:"/restaurant/dashboard"},{id:11,title:"Th\xeam S\u1ea3n Ph\u1ea9m",icon:(0,r.jsx)(D.ofE,{}),role:"seller",path:"/restaurant/add-product"},{id:12,title:"Danh s\xe1ch s\u1ea3n ph\u1ea9m",icon:(0,r.jsx)(L.AAY,{}),role:"seller",path:"/restaurant/products"},{id:13,title:"Danh s\xe1ch \u0111\u1eb7t h\xe0ng",icon:(0,r.jsx)(R.PC0,{}),role:"seller",path:"/restaurant/order"},{id:14,title:"Th\xf4ng tin c\u01a1 b\u1ea3n",icon:(0,r.jsx)(R.Y4n,{}),role:"seller",path:"/restaurant/information"},{id:15,title:"Danh s\xe1ch \u0111\u1eb7t h\xe0ng",icon:(0,r.jsx)(R.PC0,{}),role:"admin",path:"/admin/order"}],O=e=>{const t=[];for(let a=0;a<M.length;a++)e===M[a].role&&t.push(M[a]);return t};var H=a(7805);const Y=a.p+"static/media/logoBee.4eceec187980ea7b0f7a.png";var F=a(1009),Z=a(3768),B=a(851);const G=e=>{let{showSidebar:t,setShowSidebar:a,collapsed:l,toggleCollapsed:i}=e;const o=(0,E.wA)(),c=(0,n.Zp)(),{pathname:d}=(0,n.zy)(),m=(0,E.d4)((e=>e.auth.userInfo)),h=(null===m||void 0===m?void 0:m.role)||"",[x,u]=(0,s.useState)([]),[p,g]=(0,s.useState)(!1),j="admin"===h?"/admin/dashboard":"/restaurant/dashboard";(0,s.useEffect)((()=>{const e=O(h);u(e)}),[h]),(0,s.useEffect)((()=>{m||c("/login")}),[m,c]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{onClick:()=>a(!1),className:"fixed duration-200 ".concat(t?"visible":"invisible"," w-screen h-screen bg-[#8cbce780] top-0 left-0 z-10")}),(0,r.jsxs)("div",{className:"".concat(l?"w-[70px]":"w-[260px]"," fixed bg-white z-50 top-0 h-screen shadow-lg transition-all ").concat(t?"left-0":l?"-left-[70px] lg:left-0":"-left-[260px] lg:left-0"),children:[(0,r.jsxs)("div",{className:"h-[70px] flex justify-between items-center border-b border-gray-200 px-4",children:[!l&&(0,r.jsx)(P.N_,{to:j,className:"w-[180px] h-[180px]",children:(0,r.jsx)("img",{className:"w-full h-full",src:Y,alt:""})}),(0,r.jsx)("button",{onClick:i,className:"flex items-center justify-center rounded-full w-8 h-8 ".concat(l?"ml-auto":""),children:l?(0,r.jsx)(F.fNe,{size:24,color:"black"}):(0,r.jsx)(F.YPh,{size:24,color:"black"})})]}),(0,r.jsxs)("div",{className:"px-[16px] py-[50px] h-[calc(100%-70px)] flex flex-col justify-between ".concat(l?"items-center":""),children:[(0,r.jsx)("ul",{className:"".concat(l?"flex flex-col items-center":"w-full"),children:x.map(((e,t)=>(0,r.jsx)("li",{className:l?"w-10":"w-full",children:(0,r.jsxs)(P.N_,{to:e.path,className:"".concat(d.startsWith(e.path)?"bg-blue-600 shadow-indigo-500/50 text-white duration-500":"text-gray-700 hover:bg-gray-100 duration-200"," \n                    text-lg font-bold px-[12px] py-[15px] rounded-lg flex ").concat(l?"justify-center":"justify-start"," items-center gap-[12px] hover:pl-4 transition-all w-full mb-1"),title:e.title,children:[(0,r.jsx)("span",{children:e.icon}),!l&&(0,r.jsx)("span",{className:"font-bold text-lg",children:e.title})]})},t)))}),(0,r.jsxs)("div",{className:"flex flex-col ".concat(l?"items-center":""," w-full"),children:[(0,r.jsx)("hr",{className:"border-t border-gray-200 my-2 w-full"}),(0,r.jsxs)("li",{className:l?"w-10":"w-full",style:{listStyle:"none"},children:[(0,r.jsxs)("button",{onClick:()=>g(!p),className:"text-gray-700 hover:bg-gray-100 text-lg font-bold duration-200 px-[12px] py-[15px] rounded-lg flex ".concat(l?"justify-center":"justify-start"," items-center gap-[12px] hover:pl-4 transition-all w-full mb-1"),title:"Setting",children:[(0,r.jsx)("span",{children:(0,r.jsx)(I.ikl,{})}),!l&&(0,r.jsx)("span",{className:"font-bold text-lg",children:"C\xe0i \u0111\u1eb7t"})]}),p&&(0,r.jsxs)("ul",{className:"mt-2 ".concat(l?"ml-0":"ml-4"),children:[(0,r.jsx)("li",{children:(0,r.jsxs)(P.N_,{to:"https://resource.foody.vn/web/security-policy-en.html",className:"text-gray-700 hover:bg-gray-100 text-lg font-bold duration-200 px-[12px] py-[10px] rounded-lg flex items-center gap-2",children:[(0,r.jsx)(L.Ymh,{size:20}),(0,r.jsx)("span",{className:"font-bold text-lg",children:"Ch\xednh s\xe1ch b\u1ea3o m\u1eadt"})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)(P.N_,{to:"./help-center",className:"text-gray-700 hover:bg-gray-100 text-lg font-bold duration-200 px-[12px] py-[10px] rounded-lg flex items-center gap-2",children:[(0,r.jsx)(L.Obp,{}),(0,r.jsx)("span",{className:"font-bold text-lg",children:"H\u1ed7 tr\u1ee3"})]})})]})]}),(0,r.jsx)("li",{className:l?"w-10":"w-full",style:{listStyle:"none"},children:(0,r.jsxs)("button",{onClick:async()=>{localStorage.removeItem("userToken"),c("/login"),Z.Ay.success("Logout success"),o((0,B.Tn)())},className:"text-gray-700 hover:bg-gray-100 text-lg font-bold duration-200 px-[12px] py-[15px] rounded-lg flex ".concat(l?"justify-center":"justify-start"," items-center gap-[12px] hover:pl-4 transition-all w-full mb-1"),title:"Logout",children:[(0,r.jsx)("span",{children:(0,r.jsx)(H.eZR,{})}),!l&&(0,r.jsx)("span",{className:"font-bold text-lg",children:"\u0110\u0103ng xu\u1ea5t"})]})})]})]})]})]})};var J=a(8563);const U=a.p+"static/media/admin.2675d23c4b0dbb05d880.png",W={setColor:e=>({type:"SET_COLOR",payload:e}),setMode:e=>({type:"SET_MODE",payload:e}),getTheme:()=>({type:"GET_THEME"})},X=[{id:"blue",name:"Blue",background:"blue-color",class:"theme-color-blue"},{id:"red",name:"Red",background:"red-color",class:"theme-color-red"},{id:"cyan",name:"Cyan",background:"cyan-color",class:"theme-color-cyan"},{id:"green",name:"Green",background:"green-color",class:"theme-color-green"},{id:"orange",name:"Orange",background:"orange-color",class:"theme-color-orange"}];const q=function(){const e=(0,s.useRef)(null),t=(0,s.useRef)(null);var a,n;a=e,n=t,document.addEventListener("mousedown",(e=>{n.current&&n.current.contains(e.target)?a.current.classList.toggle("active"):a.current&&!a.current.contains(e.target)&&a.current.classList.remove("active")}));const[l,i]=(0,s.useState)("blue"),o=(0,E.wA)();return(0,s.useEffect)((()=>{const e=X.find((e=>e.class===localStorage.getItem("colorMode","theme-mode-light")));void 0!==e&&i(e.id)}),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{ref:t,className:"dropdown__toggle",onClick:()=>e.current.classList.add("active"),children:(0,r.jsx)("i",{className:"bx bx-palette"})}),(0,r.jsxs)("div",{ref:e,className:"theme-menu",children:[(0,r.jsx)("h4",{children:"Theme settings"}),(0,r.jsx)("button",{className:"theme-menu__close",onClick:()=>e.current.classList.remove("active"),children:(0,r.jsx)("i",{className:"bx bx-x"})}),(0,r.jsxs)("div",{className:"theme-menu__select",children:[(0,r.jsx)("span",{children:"Choose color"}),(0,r.jsx)("ul",{className:"mode-list",children:X.map(((e,t)=>(0,r.jsxs)("li",{onClick:()=>{return i((t=e).id),localStorage.setItem("colorMode",t.class),void o(W.setColor(t.class));var t},children:[(0,r.jsx)("div",{className:"mode-list__color ".concat(e.background," ").concat(e.id===l?"active":""),children:(0,r.jsx)("i",{className:"bx bx-check"})}),(0,r.jsx)("span",{children:e.name})]},t)))})]})]})]})};const K=function(e){const t=(0,s.useRef)(null),a=(0,s.useRef)(null);var n,l;return n=a,l=t,document.addEventListener("mousedown",(e=>{l.current&&l.current.contains(e.target)?n.current.classList.toggle("active"):n.current&&!n.current.contains(e.target)&&n.current.classList.remove("active")})),(0,r.jsxs)("div",{className:"dropdown",children:[(0,r.jsxs)("button",{ref:t,className:"dropdown__toggle",children:[e.icon?(0,r.jsx)("i",{className:e.icon}):"",e.badge?(0,r.jsx)("span",{className:"dropdown__toggle-badge",children:e.badge}):"",e.customToggle?e.customToggle():""]}),(0,r.jsxs)("div",{ref:a,className:"dropdown__content ",children:[e.contentData&&e.renderItems?e.contentData.map(((t,a)=>e.renderItems(t,a))):"",e.renderFooter?(0,r.jsx)("div",{className:"dropdown__footer",children:e.renderFooter()}):""]})]})},Q={display_name:"Admin",image:U},V=e=>{let{collapsed:t}=e;const a=(0,E.wA)(),l=(0,n.Zp)(),{feedbacks:i,loader:o,errorMessage:c}=(0,E.d4)((e=>e.feedback));(0,s.useEffect)((()=>{a((0,J.k1)())}),[a]);const d=i.slice(-5).reverse(),m=i.filter((e=>!e.is_checked)).length,h=(e,t)=>(0,r.jsxs)("div",{className:"notification-item".concat(e.is_checked?" notification-item--checked":""),onClick:()=>{return t=e.id,void l("/admin/feedback/".concat(t));var t},style:{cursor:"pointer"},children:[(0,r.jsx)("div",{className:"notification-item__avatar",children:(0,r.jsx)("i",{className:"bx bx-user"})}),(0,r.jsxs)("div",{className:"notification-item__info",children:[(0,r.jsx)("div",{className:"notification-item__header",children:(0,r.jsx)("span",{className:"notification-item__name",children:e.name})}),(0,r.jsxs)("div",{className:"notification-item__content",children:[e.content,e.order&&(0,r.jsx)("div",{className:"notification-item__order",children:(0,r.jsxs)("span",{children:["\u0110\u01a1n h\xe0ng #",e.order.id]})})]})]})]},e.id||t);return(0,r.jsx)("div",{className:"topnav ".concat(t?"collapsed":""),children:(0,r.jsxs)("div",{className:"topnav__right",children:[(0,r.jsx)("div",{className:"topnav__right-item",children:(0,r.jsxs)("div",{className:"topnav__right-user",children:[(0,r.jsx)("div",{className:"topnav__right-user__image",children:(0,r.jsx)("img",{src:Q.image,alt:"User"})}),(0,r.jsx)("div",{className:"topnav__right-user__name",children:Q.display_name})]})}),(0,r.jsx)("div",{className:"topnav__right-item",children:o?(0,r.jsx)("div",{children:"Loading..."}):c?(0,r.jsxs)("div",{children:["Error: ",c]}):(0,r.jsx)(K,{className:"",icon:"bx bx-bell",badge:m.toString(),contentData:d,renderItems:(e,t)=>h(e,t),renderFooter:()=>(0,r.jsxs)(P.N_,{to:"/admin/feedback",children:["Xem t\u1ea5t c\u1ea3 (",i.length,")"]})})}),(0,r.jsx)("div",{className:"topnav__right-item",children:(0,r.jsx)(q,{})})]})})},$=()=>{const[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)((()=>{const e=localStorage.getItem("sidebarCollapsed");return null!==e&&JSON.parse(e)})),i=(0,E.d4)((e=>e.ThemeReducer)),o=(0,E.wA)();(0,s.useEffect)((()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(a))}),[a]),(0,s.useEffect)((()=>{const e=localStorage.getItem("colorMode")||"blue";o(W.setColor(e))}),[o]);const c=()=>{l(!a)};return(0,r.jsxs)("div",{className:"min-h-screen ".concat(i.mode," ").concat(i.color),children:[(0,r.jsx)(G,{showSidebar:e,setShowSidebar:t,collapsed:a,toggleCollapsed:c}),(0,r.jsxs)("div",{className:"layout__content ".concat(a?"ml-0 lg:ml-[70px]":"ml-0 lg:ml-[260px]","  transition-all duration-300"),children:[(0,r.jsx)(V,{collapsed:a,showSidebar:e,setShowSidebar:t,toggleCollapsed:c}),(0,r.jsx)("div",{className:"layout__content-main px-4",children:(0,r.jsx)(n.sv,{})})]})]})};const ee=function(){const[e,t]=(0,s.useState)([...c]);return(0,s.useEffect)((()=>{const e=(()=>{const e=C.map((e=>(0,d.A)((0,d.A)({},e),{},{element:(0,r.jsx)(z,{children:e.element})})));return{path:"/",element:(0,r.jsx)($,{}),children:e}})();t([...c,e])}),[]),(0,r.jsx)(l,{allRoutes:e})}}}]);
//# sourceMappingURL=958.4d9655b8.chunk.js.map