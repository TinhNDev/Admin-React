{"version":3,"file":"static/js/386.b71797f3.chunk.js","mappings":"4LAIA,MAqNA,EArNgBA,KACZ,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAeC,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,WAAY,CAAC,GACvD,OAAEC,GAAS,EAAK,eAAEC,EAAiB,GAAE,aAAEC,EAAe,IAAON,GAE5DO,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,CAC3CC,KAAM,GAENC,aAAc,GACdC,MAAO,EACPC,SAAU,EACVC,cAAc,EACdC,UAAU,KAGPC,EAAWC,IAAgBR,EAAAA,EAAAA,UAAS,MAErCS,EAAgBC,IAClB,MAAM,KAAET,EAAI,MAAEU,EAAK,KAAEC,EAAI,QAAEC,GAAYH,EAAEI,OACzCf,GAAcgB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACTjB,GAAW,IACd,CAACG,GAAgB,aAATW,EAAsBC,EAAUF,IAC1C,EAqDN,OATAK,EAAAA,EAAAA,YAAU,KACN,GAAIpB,GAAkBC,EAAc,CAChC,MAAMoB,EAAQC,YAAW,KACrB7B,GAAS8B,EAAAA,EAAAA,MAAe,GACzB,KACH,MAAO,IAAMC,aAAaH,EAC9B,IACD,CAACrB,EAAgBC,EAAcR,KAG9BgC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2CAA0CC,SAAA,EACrDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,wCAAuCC,SAAC,oBAErD3B,IAAkB4B,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sBAAqBC,SAAE3B,IACxDC,IAAgB2B,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,SAAE1B,KAErDwB,EAAAA,EAAAA,MAAA,QAAMI,SA7COC,UACjBhB,EAAEiB,iBAEF,MAAMC,EAAW,IAAIC,SACrBC,OAAOC,KAAKjC,GAAakC,SAAQC,IAC7BL,EAASM,OAAOD,EAAKnC,EAAYmC,GAAK,IAGtC1B,GACAqB,EAASM,OAAO,QAAS3B,GAG7B,UACUlB,GAAS8C,EAAAA,EAAAA,IAAYP,IAAWQ,SACtCrC,EAAe,CACXE,KAAM,GAENC,aAAc,GACdC,MAAO,EACPC,SAAU,EACVC,cAAc,EACdC,UAAU,IAEdE,EAAa,KACjB,CAAE,MAAO6B,GACLC,QAAQD,MAAM,yBAA0BA,EAC5C,GAmBkCf,UAAU,mBAAkBC,SAAA,EACtDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SAAOe,QAAQ,OAAOjB,UAAU,+CAA8CC,SAAC,+BAC/EC,EAAAA,EAAAA,KAAA,SACIZ,KAAK,OACL4B,GAAG,OACHvC,KAAK,OACLU,MAAOb,EAAYG,KACnBwC,SAAUhC,EACVa,UAAU,qIACVoB,YAAY,qBACZC,UAAQ,QAIhBtB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SAAOe,QAAQ,QAAQjB,UAAU,+CAA8CC,SAAC,yCAChFC,EAAAA,EAAAA,KAAA,SACIZ,KAAK,OACL4B,GAAG,QACHvC,KAAK,QACLwC,SA9EO/B,IACvB,MAAMkC,EAAOlC,EAAEI,OAAO+B,MAAM,GAC5B,GAAID,EAAM,CACNpC,EAAaoC,GACb,MAAME,EAAWC,IAAIC,gBAAgBJ,GACrC7C,GAAcgB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACTjB,GAAW,IACdmD,MAAOH,IAEf,GAsEgBxB,UAAU,qIACV4B,OAAO,UACPP,UAAQ,IAEX7C,EAAYmD,QACTzB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,OAAMC,UACjBC,EAAAA,EAAAA,KAAA,OACI2B,IAAKrD,EAAYmD,MACjBG,IAAI,UACJ9B,UAAU,8DACV+B,QAAU3C,GAAMA,EAAEI,OAAOqC,IAAM,uDAM/C9B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SAAOe,QAAQ,eAAejB,UAAU,+CAA8CC,SAAC,mBACvFC,EAAAA,EAAAA,KAAA,YACIgB,GAAG,eACHvC,KAAK,eACLU,MAAOb,EAAYI,aACnBuC,SAAUhC,EACV6C,KAAK,IACLhC,UAAU,gIACVoB,YAAY,8DAIpBrB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,+CAA8CC,SAAA,EACzDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACjBC,EAAAA,EAAAA,KAAA,SAAOe,QAAQ,QAAQjB,UAAU,+CAA8CC,SAAC,uBAChFC,EAAAA,EAAAA,KAAA,SACIZ,KAAK,SACL4B,GAAG,QACHvC,KAAK,QACLU,MAAOb,EAAYK,MACnBsC,SAAUhC,EACVa,UAAU,qIACVoB,YAAY,QACZa,IAAI,IACJZ,UAAQ,QAIhBtB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EACjBC,EAAAA,EAAAA,KAAA,SAAOe,QAAQ,WAAWjB,UAAU,+CAA8CC,SAAC,6BACnFC,EAAAA,EAAAA,KAAA,SACIZ,KAAK,SACL4B,GAAG,WACHvC,KAAK,WACLU,MAAOb,EAAYM,SACnBqC,SAAUhC,EACVa,UAAU,qIACVoB,YAAY,KACZa,IAAI,IACJZ,UAAQ,WAKpBnB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iCAAgCC,UAC3CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,SACIgB,GAAG,eACH5B,KAAK,WACLX,KAAK,eACLY,QAASf,EAAYO,aACrBoC,SAAUhC,EACVa,UAAU,wFAEdE,EAAAA,EAAAA,KAAA,SAAOe,QAAQ,eAAejB,UAAU,yCAAwCC,SAAC,yBAKzFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,EACxCC,EAAAA,EAAAA,KAAA,UACIZ,KAAK,SACLU,UAAU,qKACVkC,SAAU7D,EAAO4B,SAEhB5B,EAAS,YAAc,gCAG5B6B,EAAAA,EAAAA,KAAA,UACIZ,KAAK,SACLU,UAAU,wKACVmC,QAASA,KACL1D,EAAe,CACXE,KAAM,GACNgD,MAAO,GACP/C,aAAc,GACdC,MAAO,EACPC,SAAU,EACVC,cAAc,EACdC,UAAU,IAEdE,EAAa,KAAK,EACpBe,SACL,qBAKP,C","sources":["pages/RestaurantDashboard/Product.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { add_product, messageClear } from '../../store/reducers/productReducer'; \r\n\r\nconst Product = () => {\r\n    const dispatch = useDispatch();\r\n    const productState = useSelector(state => state.product) || {};\r\n    const { loader = false, successMessage = '', errorMessage = '' } = productState;\r\n\r\n    const [productData, setProductData] = useState({\r\n        name: \"\",\r\n        //image: \"\",\r\n        descriptions: \"\",\r\n        price: 0,\r\n        quantity: 0,\r\n        is_available: true,\r\n        is_draft: false\r\n    });\r\n    \r\n    const [imageFile, setImageFile] = useState(null);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        setProductData({\r\n            ...productData,\r\n            [name]: type === 'checkbox' ? checked : value\r\n        });\r\n    };\r\n    \r\n    const handleImageChange = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            setImageFile(file);\r\n            const imageUrl = URL.createObjectURL(file);\r\n            setProductData({\r\n                ...productData,\r\n                image: imageUrl\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        const formData = new FormData();\r\n        Object.keys(productData).forEach(key => {\r\n            formData.append(key, productData[key]);\r\n        });\r\n        \r\n        if (imageFile) {\r\n            formData.append('image', imageFile);\r\n        }\r\n        \r\n        try {\r\n            await dispatch(add_product(formData)).unwrap();\r\n            setProductData({\r\n                name: \"\",\r\n                //image: \"\",\r\n                descriptions: \"\",\r\n                price: 0,\r\n                quantity: 0,\r\n                is_available: true,\r\n                is_draft: false\r\n            });\r\n            setImageFile(null);\r\n        } catch (error) {\r\n            console.error(\"Failed to add product:\", error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (successMessage || errorMessage) {\r\n            const timer = setTimeout(() => {\r\n                dispatch(messageClear());\r\n            }, 3000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [successMessage, errorMessage, dispatch]);\r\n\r\n    return (\r\n        <div className=\"w-full p-6 bg-white rounded-lg shadow-md\">\r\n            <h2 className=\"text-3xl font-bold text-gray-800 mb-8\">Add new product</h2>\r\n            \r\n            {successMessage && <div className=\"text-green-600 mb-4\">{successMessage}</div>}\r\n            {errorMessage && <div className=\"text-red-600 mb-4\">{errorMessage}</div>}\r\n            \r\n            <form onSubmit={handleSubmit} className=\"space-y-8 w-full\">\r\n                <div className=\"mb-6 w-full\">\r\n                    <label htmlFor=\"name\" className=\"block mb-2 text-lg font-medium text-gray-900\">Tên sản phẩm</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        id=\"name\" \r\n                        name=\"name\"\r\n                        value={productData.name}\r\n                        onChange={handleChange}\r\n                        className=\"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14\"\r\n                        placeholder=\"Enter name product\" \r\n                        required \r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"mb-6 w-full\">\r\n                    <label htmlFor=\"image\" className=\"block mb-2 text-lg font-medium text-gray-900\">Hình ảnh sản phẩm</label>\r\n                    <input \r\n                        type=\"file\" \r\n                        id=\"image\" \r\n                        name=\"image\"\r\n                        onChange={handleImageChange}\r\n                        className=\"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14\"\r\n                        accept=\"image/*\"\r\n                        required \r\n                    />\r\n                    {productData.image && (\r\n                        <div className=\"mt-4\">\r\n                            <img \r\n                                src={productData.image} \r\n                                alt=\"Preview\" \r\n                                className=\"max-h-64 max-w-full h-auto object-contain rounded-lg border\"\r\n                                onError={(e) => e.target.src = \"https://via.placeholder.com/150?text=Preview\"}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                \r\n                <div className=\"mb-6 w-full\">\r\n                    <label htmlFor=\"descriptions\" className=\"block mb-2 text-lg font-medium text-gray-900\">Mô tả</label>\r\n                    <textarea \r\n                        id=\"descriptions\" \r\n                        name=\"descriptions\"\r\n                        value={productData.descriptions}\r\n                        onChange={handleChange}\r\n                        rows=\"6\" \r\n                        className=\"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4\"\r\n                        placeholder=\"Món cơm đến từ vùng provip.\"\r\n                    ></textarea>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 w-full\">\r\n                    <div className=\"mb-6\">\r\n                        <label htmlFor=\"price\" className=\"block mb-2 text-lg font-medium text-gray-900\">Giá (VNĐ)</label>\r\n                        <input \r\n                            type=\"number\" \r\n                            id=\"price\" \r\n                            name=\"price\"\r\n                            value={productData.price}\r\n                            onChange={handleChange}\r\n                            className=\"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14\"\r\n                            placeholder=\"40000\" \r\n                            min=\"0\"\r\n                            required \r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"mb-6\">\r\n                        <label htmlFor=\"quantity\" className=\"block mb-2 text-lg font-medium text-gray-900\">Số lượng</label>\r\n                        <input \r\n                            type=\"number\" \r\n                            id=\"quantity\" \r\n                            name=\"quantity\"\r\n                            value={productData.quantity}\r\n                            onChange={handleChange}\r\n                            className=\"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14\"\r\n                            placeholder=\"10\" \r\n                            min=\"0\"\r\n                            required \r\n                        />\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"flex justify-start mb-6 w-full\">\r\n                    <div className=\"flex items-center mr-8\">\r\n                        <input \r\n                            id=\"is_available\" \r\n                            type=\"checkbox\" \r\n                            name=\"is_available\"\r\n                            checked={productData.is_available}\r\n                            onChange={handleChange}\r\n                            className=\"w-5 h-5 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300\" \r\n                        />\r\n                        <label htmlFor=\"is_available\" className=\"ms-3 text-lg font-medium text-gray-900\">Có sẵn</label>\r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n                <div className=\"flex justify-between w-full\">\r\n                    <button \r\n                        type=\"submit\" \r\n                        className=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-lg w-full sm:w-auto px-8 py-4 text-center\"\r\n                        disabled={loader}\r\n                    >\r\n                        {loader ? 'Adding...' : 'Thêm sản phẩm'}\r\n                    </button>\r\n                    \r\n                    <button \r\n                        type=\"button\" \r\n                        className=\"text-gray-700 bg-gray-200 hover:bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-lg w-full sm:w-auto px-8 py-4 text-center\"\r\n                        onClick={() => {\r\n                            setProductData({\r\n                                name: \"\",\r\n                                image: \"\",\r\n                                descriptions: \"\",\r\n                                price: 0,\r\n                                quantity: 0,\r\n                                is_available: true,\r\n                                is_draft: false\r\n                            });\r\n                            setImageFile(null);\r\n                        }}\r\n                    >\r\n                        Hủy\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Product;\r\n"],"names":["Product","dispatch","useDispatch","productState","useSelector","state","product","loader","successMessage","errorMessage","productData","setProductData","useState","name","descriptions","price","quantity","is_available","is_draft","imageFile","setImageFile","handleChange","e","value","type","checked","target","_objectSpread","useEffect","timer","setTimeout","messageClear","clearTimeout","_jsxs","className","children","_jsx","onSubmit","async","preventDefault","formData","FormData","Object","keys","forEach","key","append","add_product","unwrap","error","console","htmlFor","id","onChange","placeholder","required","file","files","imageUrl","URL","createObjectURL","image","accept","src","alt","onError","rows","min","disabled","onClick"],"sourceRoot":""}