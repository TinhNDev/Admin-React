"use strict";(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[941],{4941:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var a=r(5043),s=r(2019),n=r(892),o=r(9871),l=r(5328),i=r(3216),c=r(5475),d=r(3003),h=r(7343),x=r(6484),g=r(579);const m={0:Array.from({length:31},(()=>Math.floor(101*Math.random()))),1:Array.from({length:28},(()=>Math.floor(101*Math.random()))),2:Array.from({length:31},(()=>Math.floor(101*Math.random()))),3:Array.from({length:30},(()=>Math.floor(101*Math.random()))),4:Array.from({length:31},(()=>Math.floor(101*Math.random()))),5:Array.from({length:30},(()=>Math.floor(101*Math.random()))),6:Array.from({length:31},(()=>Math.floor(101*Math.random()))),7:Array.from({length:31},(()=>Math.floor(101*Math.random()))),8:Array.from({length:30},(()=>Math.floor(101*Math.random()))),9:Array.from({length:31},(()=>Math.floor(101*Math.random()))),10:Array.from({length:30},(()=>Math.floor(101*Math.random()))),11:Array.from({length:31},(()=>Math.floor(101*Math.random())))},u=()=>{var e,t,r;const u=(0,i.Zp)(),f=(0,d.wA)(),[p]=(0,a.useState)(1),[b]=(0,a.useState)(5),[y]=(0,a.useState)(""),[v]=(0,a.useState)("asc"),N=(0,d.d4)((e=>e.ThemeReducer.mode)),{rawVisitorData:j}=(0,d.d4)((e=>e.dashboard)),{totalRestaurant:w=0}=(0,d.d4)((e=>e.restaurant||{})),{totalDrivers:D=0}=(0,d.d4)((e=>e.driver||{})),{orders:R=[],totalOrders:S=0}=(0,d.d4)((e=>e.order||{})),M=(0,h.bN)(R),E=new Array(12).fill(0);M.forEach((e=>{const t=new Date("".concat(e.month," 1, ").concat(e.year)).getMonth();E[t]=e.revenue}));const[k,C]=(0,a.useState)("month"),[L,A]=(0,a.useState)(null),[F,I]=(0,a.useState)([]),O=new Date,_=O.getMonth(),T=O.getFullYear(),V=M.find((e=>e.month===O.toLocaleString("vi-VN",{month:"long"})&&e.year===T)),P=new Date(T,_-1,1),z=M.find((e=>e.month===P.toLocaleString("vi-VN",{month:"long"})&&e.year===P.getFullYear())),W=(null===V||void 0===V?void 0:V.revenue)||0,Y=(null===z||void 0===z?void 0:z.revenue)||0,B=new Date,G=new Date(B);G.setDate(B.getDate()-1);const H=B.toISOString().split("T")[0],K=G.toISOString().split("T")[0],U=R.filter((e=>new Date(e.createdAt).toISOString().split("T")[0]===H)),q=R.filter((e=>new Date(e.createdAt).toISOString().split("T")[0]===K)),Q=U.reduce(((e,t)=>e+parseFloat(t.price||0)),0),X=q.reduce(((e,t)=>e+parseFloat(t.price||0)),0),Z=a.useMemo((()=>{const e=new Array(12).fill(0);if(j)for(const[t,r]of Object.entries(j)){const a=t.split("-");if(2===a.length){const t=parseInt(a[1],10)-1;t>=0&&t<12&&(e[t]=r)}}return e}),[j]);(0,a.useEffect)((()=>{f((0,x.lz)())}),[f]),(0,a.useEffect)((()=>{if(null!==L){const e=M[L];if(e){const t=new Date(Date.parse("".concat(e.month," 1, ").concat(e.year))).getMonth(),r=e.year,a=new Date(r,t+1,0).getDate(),s=R.filter((e=>{const a=new Date(e.createdAt);return a.getMonth()===t&&a.getFullYear()===r})),n={};s.forEach((e=>{const t=new Date(e.createdAt).getDate();n[t]=(n[t]||0)+parseFloat(e.price||0)}));const o=Array.from({length:a},((e,t)=>{const r=t+1;return{day:"Ng\xe0y ".concat(r),value:n[r]||0}}));I(o)}}}),[L,M,R]),console.log("D\u1eef li\u1ec7u visitor t\u1eeb API:",j),console.log("M\u1ea3ng monthlyVisitors sau x\u1eed l\xfd:",Z);const J={chart:{type:"bar",background:"transparent",toolbar:{show:!1},fontFamily:"'Roboto', sans-serif",events:{dataPointSelection:function(e,t,r){A(r.dataPointIndex),C("day")}}},dataLabels:{enabled:!1},plotOptions:{bar:{borderRadius:4,columnWidth:"65%",distributed:!1}},states:{hover:{filter:{type:"darken",value:.85}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.85}}},xaxis:{categories:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],labels:{style:{fontSize:"12px",fontFamily:"'Roboto', sans-serif"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:[{title:{text:"Doanh thu (VND)",style:{fontSize:"13px",fontFamily:"'Roboto', sans-serif",fontWeight:500}},labels:{formatter:function(e){return e.toLocaleString()+" \u0111"},style:{fontSize:"12px"}}},{opposite:!0,title:{text:"S\u1ed1 l\u01b0\u1ee3ng truy c\u1eadp",style:{fontSize:"13px",fontFamily:"'Roboto', sans-serif",fontWeight:500}},labels:{formatter:function(e){return e.toLocaleString()},style:{fontSize:"12px"}}}],colors:["#4F46E5","#22c55e"],tooltip:{shared:!0,intersect:!1,y:[{formatter:function(e){var t;return"".concat(null!==(t=null===e||void 0===e?void 0:e.toLocaleString())&&void 0!==t?t:"0"," VND")}},{formatter:function(e){var t;return"".concat(null!==(t=null===e||void 0===e?void 0:e.toLocaleString())&&void 0!==t?t:"0"," l\u01b0\u1ee3t")}}],theme:"theme-mode-dark"===N?"dark":"light"}},$={chart:{type:"area",background:"transparent",toolbar:{show:!1},fontFamily:"'Roboto', sans-serif"},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.2,stops:[0,90,100]}},xaxis:{categories:F.map((e=>e.day)),labels:{style:{fontSize:"12px",fontFamily:"'Roboto', sans-serif"},rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:[{title:{text:"Doanh thu (VND)",style:{fontSize:"13px",fontFamily:"'Roboto', sans-serif",fontWeight:500}},labels:{formatter:function(e){return e.toLocaleString()+" \u0111"},style:{fontSize:"12px"}}},{opposite:!0,title:{text:"S\u1ed1 l\u01b0\u1ee3ng truy c\u1eadp",style:{fontSize:"13px",fontFamily:"'Roboto', sans-serif",fontWeight:500}},labels:{formatter:function(e){return e.toLocaleString()},style:{fontSize:"12px"}}}],colors:["#f59e0b","#22c55e"],tooltip:{shared:!0,intersect:!1,y:[{formatter:function(e){return"".concat(e.toLocaleString()," VND")}},{formatter:function(e){return"".concat(e.toLocaleString()," l\u01b0\u1ee3t")}}],theme:"theme-mode-dark"===N?"dark":"light"}};(0,a.useEffect)((()=>{f((0,n.Ll)())}),[f]),(0,a.useEffect)((()=>{const e={parPage:parseInt(b),page:parseInt(p),sortField:y,sortOrder:v};f((0,o.ue)(e))}),[b,p,y,v,f]),(0,a.useEffect)((()=>{const e={parPage:parseInt(b),page:parseInt(p),sortField:y,sortOrder:v};f((0,l.rx)(e))}),[b,p,y,v,f]);const ee=R.slice(0,5),te=(0,h.mK)(R),re=[{icon:"bx bx-shopping-bag",count:(0,h.vv)(te.totalRevenue),title:"Doanh thu h\xf4m nay",color:"text-blue-500",bgColor:"bg-blue-100",borderColor:"border-blue-200"},{icon:"bx bx-home",count:w,title:"T\u1ed5ng nh\xe0 h\xe0ng",color:"text-green-500",bgColor:"bg-green-100",borderColor:"border-green-200",path:"/admin/restaurant"},{icon:"bx bx-user",count:D,title:"T\u1ed5ng shipper",color:"text-amber-500",bgColor:"bg-amber-100",borderColor:"border-amber-200",path:"/admin/shipper"},{icon:"bx bx-receipt",count:S,title:"T\u1ed5ng \u0111\u01a1n h\xe0ng",color:"text-rose-500",bgColor:"bg-rose-100",borderColor:"border-rose-200",path:"/admin/order"}],ae=e=>{switch(e){case"PAID":return"\u0110\u01a1n h\xe0ng m\u1edbi";case"PREPARING_ORDER":return"\u0110ang chu\u1ea9n b\u1ecb";case"ORDER_CANCELED":return"\u0110\u01a1n b\u1ecb h\u1ee7y";case"ORDER_RECEIVED":return"\u0110\xe3 giao cho shipper";case"DELIVERING":return"Shipper \u0111ang l\u1ea5y \u0111\u01a1n";case"ORDER_CONFIRMED":return"\u0110\xe3 giao xong";case"UNPAID":return"Ch\u01b0a thanh to\xe1n";default:return"Kh\xf4ng x\xe1c \u0111\u1ecbnh"}},se=e=>{switch(e){case"PAID":return"bg-green-100 text-green-800";case"UNPAID":case"ORDER_CANCELED":return"bg-red-100 text-red-800";case"PREPARING_ORDER":return"bg-blue-100 text-blue-800";case"ORDER_RECEIVED":return"bg-purple-100 text-purple-800";case"DELIVERING":return"bg-yellow-100 text-yellow-800";case"ORDER_CONFIRMED":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}};return(0,g.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,g.jsx)("h2",{className:"text-4xl font-bold text-gray-800",children:"Dashboard"}),(0,g.jsxs)("div",{className:"flex items-center justify-end text-base font-semibold text-gray-800 bg-blue-50 rounded px-3 py-1 shadow w-fit ml-auto",children:[(0,g.jsxs)("svg",{className:"w-5 h-5 text-blue-400 mr-2",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:[(0,g.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",stroke:"currentColor"}),(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 2v4M8 2v4M3 10h18"})]}),(new Date).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,g.jsx)("div",{className:"lg:col-span-1",children:(0,g.jsx)("div",{className:"grid grid-cols-2 gap-5 h-full",children:re.map(((e,t)=>e.path?(0,g.jsx)(c.N_,{to:e.path,style:{textDecoration:"none"},children:(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border ".concat(e.borderColor," overflow-hidden transition-all duration-300 hover:shadow-md h-full"),children:[(0,g.jsx)("div",{className:"".concat(e.bgColor," px-4 py-2"),children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("h3",{className:"font-medium text-gray-700",children:e.title}),(0,g.jsx)("i",{className:"".concat(e.icon," text-xl ").concat(e.color)})]})}),(0,g.jsx)("div",{className:"px-4 py-3",children:(0,g.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:e.count})})]})},t):(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border ".concat(e.borderColor," overflow-hidden transition-all duration-300 hover:shadow-md h-full"),children:[(0,g.jsx)("div",{className:"".concat(e.bgColor," px-4 py-2"),children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("h3",{className:"font-medium text-gray-700",children:e.title}),(0,g.jsx)("i",{className:"".concat(e.icon," text-xl ").concat(e.color)})]})}),(0,g.jsx)("div",{className:"px-4 py-3",children:(0,g.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:e.count})})]},t)))})}),(0,g.jsxs)("div",{className:"lg:col-span-2 flex gap-6",children:[(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow border flex-1 flex flex-col items-start p-5",children:[(0,g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,g.jsx)("div",{className:"bg-gray-100 rounded-full w-12 h-12 flex items-center justify-center mr-4",children:(0,g.jsx)("svg",{className:"w-7 h-7 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"font-medium text-gray-700 text-lg",children:"Doanh thu th\xe1ng"})})]}),(0,g.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,g.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"".concat(O.toLocaleString("vi-VN",{month:"long"}),"/").concat(T)}),(0,g.jsxs)("span",{className:"text-3xl font-extrabold text-green-600",children:[W.toLocaleString("vi-VN")," \u20ab"]})]}),(0,g.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,g.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"".concat(P.toLocaleString("vi-VN",{month:"long"}),"/").concat(P.getFullYear())}),(0,g.jsxs)("span",{className:"text-2xl font-bold text-gray-700",children:[Y.toLocaleString("vi-VN")," \u20ab"]})]})]})]}),(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow border flex-1 flex flex-col items-start p-5",children:[(0,g.jsxs)("div",{className:"flex items-center mb-4",children:[(0,g.jsx)("div",{className:"bg-gray-100 rounded-full w-12 h-12 flex items-center justify-center mr-4",children:(0,g.jsx)("svg",{className:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"font-medium text-gray-700 text-lg",children:"Doanh thu ng\xe0y"})})]}),(0,g.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,g.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"H\xf4m nay"}),(0,g.jsxs)("span",{className:"text-3xl font-extrabold text-blue-600",children:[Q.toLocaleString("vi-VN")," \u20ab"]})]}),(0,g.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,g.jsx)("span",{className:"text-gray-500 text-base font-semibold",children:"H\xf4m qua"}),(0,g.jsxs)("span",{className:"text-2xl font-bold text-gray-700",children:[X.toLocaleString("vi-VN")," \u20ab"]})]})]})]})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,g.jsx)("div",{className:"border-b border-gray-200 px-5 py-4",children:(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Bi\u1ec3u \u0111\u1ed3 doanh thu"})}),(0,g.jsxs)("div",{className:"p-5",children:["month"===k&&(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"flex gap-4 mb-4",children:(0,g.jsx)("button",{className:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-medium transition-colors hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",disabled:!0,children:"Theo th\xe1ng"})}),(0,g.jsx)(s.A,{options:J,series:[{name:"Doanh thu",data:E,type:"column"},{name:"S\u1ed1 l\u01b0\u1ee3ng truy c\u1eadp",data:Z,type:"column"}],type:"bar",height:320}),(0,g.jsx)("p",{className:"text-sm text-gray-500 mt-4 text-center",children:"* B\u1ea5m v\xe0o c\u1ed9t th\xe1ng \u0111\u1ec3 xem chi ti\u1ebft doanh thu t\u1eebng ng\xe0y"})]}),"day"===k&&null!==L&&(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,g.jsxs)("button",{className:"px-4 py-2 rounded-md bg-gray-100 text-gray-700 text-sm font-medium transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2 flex items-center",onClick:()=>{C("month"),A(null)},children:[(0,g.jsx)("i",{className:"bx bx-arrow-back mr-1"}),"Quay l\u1ea1i"]}),(0,g.jsxs)("h4",{className:"text-lg font-medium text-gray-700",children:[null===(e=M[L])||void 0===e?void 0:e.month," ",null===(t=M[L])||void 0===t?void 0:t.year]})]}),F.length>0?(0,g.jsx)(s.A,{options:$,series:[{name:"Doanh thu ".concat(null===(r=M[L])||void 0===r?void 0:r.month),data:F.map((e=>e.value)),type:"area"},{name:"S\u1ed1 l\u01b0\u1ee3ng truy c\u1eadp",data:m[L]||[],type:"area"}],type:"area",height:320}):(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center h-80",children:[(0,g.jsx)("i",{className:"bx bx-line-chart text-4xl text-gray-300 mb-3"}),(0,g.jsx)("p",{className:"text-gray-500",children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u doanh thu cho th\xe1ng n\xe0y"})]})]})]})]}),(0,g.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,g.jsxs)("div",{className:"border-b border-gray-200 px-5 py-4 flex justify-between items-center",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\u0110\u01a1n h\xe0ng g\u1ea7n \u0111\xe2y"}),(0,g.jsxs)(c.N_,{to:"/admin/order",className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 flex items-center",children:["Xem t\u1ea5t c\u1ea3",(0,g.jsx)("i",{className:"bx bx-chevron-right ml-1"})]})]}),(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)("table",{className:"w-full",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"bg-gray-50",children:[(0,g.jsx)("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),(0,g.jsx)("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ng\u01b0\u1eddi nh\u1eadn"}),(0,g.jsx)("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Tr\u1ea1ng th\xe1i"}),(0,g.jsx)("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Gi\xe1 tr\u1ecb"}),(0,g.jsx)("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Li\xean h\u1ec7"})]})}),(0,g.jsx)("tbody",{className:"divide-y divide-gray-200",children:ee.length>0?ee.map(((e,t)=>(0,g.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",onClick:()=>{return t=e.id,void u("/admin/order/".concat(t));var t},children:[(0,g.jsxs)("td",{className:"px-5 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),(0,g.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-700",children:e.receiver_name}),(0,g.jsx)("td",{className:"px-5 py-4 whitespace-nowrap",children:(0,g.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(se(e.order_status)),children:ae(e.order_status)||"N/A"})}),(0,g.jsxs)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-700",children:[parseInt(e.price).toLocaleString("vi-VN")," \u0111"]}),(0,g.jsx)("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-700",children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("i",{className:"bx bx-phone mr-2 text-gray-500"}),e.phone_number]})})]},e.id||t))):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"5",className:"px-5 py-8 text-center",children:(0,g.jsxs)("div",{className:"flex flex-col items-center",children:[(0,g.jsx)("i",{className:"bx bx-package text-3xl text-gray-300 mb-2"}),(0,g.jsx)("span",{className:"text-gray-500",children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u \u0111\u01a1n h\xe0ng"})]})})})})]})}),ee.length>0&&(0,g.jsxs)("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 text-xs text-gray-500",children:["Hi\u1ec3n th\u1ecb ",ee.length," trong t\u1ed5ng s\u1ed1 ",S," \u0111\u01a1n h\xe0ng"]})]})]})]})}},7343:(e,t,r)=>{r.d(t,{F1:()=>a,bN:()=>o,mK:()=>s,vv:()=>n});const a=(e,t,r)=>{const a=new Date,s=new Date(e),n=new Date(t);return r?a<s?{status:"pending",text:"Ch\u01b0a b\u1eaft \u0111\u1ea7u",className:"bg-yellow-100 text-yellow-800"}:a>n?{status:"expired",text:"\u0110\xe3 h\u1ebft h\u1ea1n",className:"bg-red-100 text-red-800"}:{status:"active",text:"\u0110ang ho\u1ea1t \u0111\u1ed9ng",className:"bg-green-100 text-green-800"}:{status:"inactive",text:"\u0110\xe3 kh\xf3a",className:"bg-red-100 text-red-800"}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;const r=new Date(t);r.setHours(0,0,0,0);const a=new Date(t);a.setHours(23,59,59,999);const s=e.filter((e=>{const t=new Date(e.order_date);return t>=r&&t<=a})),n=s.reduce(((e,t)=>{if("ORDER_CONFIRMED"===t.order_status){return e+(parseFloat(t.price)+parseFloat(t.delivery_fee))}return e}),0);return{totalRevenue:n,orderCount:s.length,completedOrders:s.filter((e=>"ORDER_CONFIRMED"===e.order_status)).length,canceledOrders:s.filter((e=>"ORDER_CANCELED"===e.order_status)).length,averageOrderValue:s.length>0?n/s.length:0}},n=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),o=e=>{const t=[],r=new Date;for(let a=11;a>=0;a--){const s=new Date(r.getFullYear(),r.getMonth()-a,1),o=new Date(s.getFullYear(),s.getMonth(),1),l=new Date(s.getFullYear(),s.getMonth()+1,0,23,59,59,999),i=e.filter((e=>{const t=new Date(e.order_date);return t>=o&&t<=l})),c=i.reduce(((e,t)=>"ORDER_CONFIRMED"===t.order_status?e+parseFloat(t.price):e),0);t.push({month:s.toLocaleString("vi-VN",{month:"long"}),shortMonth:s.toLocaleString("vi-VN",{month:"short"}),year:s.getFullYear(),revenue:c,formattedRevenue:n(c),orderCount:i.length,completedOrders:i.filter((e=>"ORDER_CONFIRMED"===e.order_status)).length})}return t}}}]);
//# sourceMappingURL=941.4bbe7211.chunk.js.map