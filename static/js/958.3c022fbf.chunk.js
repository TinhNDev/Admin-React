"use strict";(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[958],{8882:(e,t,s)=>{s.r(t),s.d(t,{default:()=>V});var a=s(5043),l=s(3216);const n=e=>{let{allRoutes:t}=e;return(0,l.Ye)([...t])};var r=s(579);const i=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(362)]).then(s.bind(s,7493)))),o=(0,a.lazy)((()=>s.e(54).then(s.bind(s,2389)))),c=[{path:"/login",element:(0,r.jsx)(i,{})},{path:"/register",element:(0,r.jsx)(o,{})}],d=(0,a.lazy)((()=>Promise.all([s.e(19),s.e(941)]).then(s.bind(s,4941)))),m=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(736)]).then(s.bind(s,9736)))),h=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(146)]).then(s.bind(s,6146)))),x=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(360)]).then(s.bind(s,6360)))),u=(0,a.lazy)((()=>Promise.all([s.e(178),s.e(947)]).then(s.bind(s,3947)))),p=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(178),s.e(154)]).then(s.bind(s,2154)))),g=(0,a.lazy)((()=>Promise.all([s.e(178),s.e(571)]).then(s.bind(s,7571)))),j=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(478)]).then(s.bind(s,2478)))),b=(0,a.lazy)((()=>Promise.all([s.e(178),s.e(130)]).then(s.bind(s,2130)))),f=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(806),s.e(831)]).then(s.bind(s,9831)))),v=[{path:"admin/dashboard",element:(0,r.jsx)(d,{}),role:"admin"},{path:"admin/restaurant",element:(0,r.jsx)(m,{}),role:"admin"},{path:"admin/restaurant/:restaurantId",element:(0,r.jsx)(p,{}),role:"admin"},{path:"admin/shipper",element:(0,r.jsx)(h,{}),role:"admin"},{path:"admin/shipper/:shipperId",element:(0,r.jsx)(g,{}),role:"admin"},{path:"admin/feedback",element:(0,r.jsx)(x,{}),role:"admin"},{path:"/admin/coupon",element:(0,r.jsx)(u,{}),role:"admin"},{path:"admin/order",element:(0,r.jsx)(j,{}),role:"admin"},{path:"admin/order/:orderId",element:(0,r.jsx)(b,{}),role:"admin"},{path:"admin/feedback/:feedbackID",element:(0,r.jsx)(f,{}),role:"admin"}],y=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(19),s.e(966),s.e(849)]).then(s.bind(s,1849)))),N=(0,a.lazy)((()=>s.e(231).then(s.bind(s,231)))),_=(0,a.lazy)((()=>s.e(386).then(s.bind(s,4386)))),w=(0,a.lazy)((()=>Promise.all([s.e(369),s.e(247)]).then(s.bind(s,1247)))),k=(0,a.lazy)((()=>s.e(795).then(s.bind(s,4795)))),S=[...v,...[{path:"restaurant/dashboard",element:(0,r.jsx)(y,{}),role:"restaurant"},{path:"restaurant/products",element:(0,r.jsx)(N,{}),role:"restaurant"},{path:"restaurant/add-product",element:(0,r.jsx)(_,{}),role:"restaurant"},{path:"restaurant/information",element:(0,r.jsx)(w,{}),role:"restaurant"},{path:"restaurant/order",element:(0,r.jsx)(k,{}),role:"restaurant"}]],C=e=>{let{children:t}=e;return!!localStorage.getItem("userToken")?t:(0,r.jsx)(l.C5,{to:"/login",replace:!0})};var z=s(3003),E=s(5475),P=s(1434),T=s(221),I=s(7149),$=s(5263),L=s(2285),D=s(4960);const R=[{id:1,title:"Dashboard",icon:(0,r.jsx)(P.jHl,{}),role:"admin",path:"/admin/dashboard"},{id:3,title:"Nh\xe0 H\xe0ng",icon:(0,r.jsx)(T.WfT,{}),role:"admin",path:"/admin/restaurant"},{id:4,title:"T\xe0i x\u1ebf",icon:(0,r.jsx)(I.F6S,{}),role:"admin",path:"/admin/shipper"},{id:7,title:"M\xe3 gi\u1ea3m gi\xe1",icon:(0,r.jsx)(L.twl,{}),role:"admin",path:"/admin/coupon"},{id:8,title:"\u0110\xe1nh gi\xe1",icon:(0,r.jsx)(I.DEU,{}),role:"admin",path:"/admin/feedback"},{id:10,title:"Dashboard",icon:(0,r.jsx)(P.jHl,{}),role:"seller",path:"/restaurant/dashboard"},{id:11,title:"Th\xeam S\u1ea3n Ph\u1ea9m",icon:(0,r.jsx)($.ofE,{}),role:"seller",path:"/restaurant/add-product"},{id:12,title:"Danh s\xe1ch s\u1ea3n ph\u1ea9m",icon:(0,r.jsx)(I.AAY,{}),role:"seller",path:"/restaurant/products"},{id:13,title:"Danh s\xe1ch \u0111\u1eb7t h\xe0ng",icon:(0,r.jsx)(D.PC0,{}),role:"seller",path:"/restaurant/order"},{id:14,title:"Th\xf4ng tin c\u01a1 b\u1ea3n",icon:(0,r.jsx)(D.Y4n,{}),role:"seller",path:"/restaurant/information"},{id:15,title:"Danh s\xe1ch \u0111\u1eb7t h\xe0ng",icon:(0,r.jsx)(D.PC0,{}),role:"admin",path:"/admin/order"}],A=e=>{const t=[];for(let s=0;s<R.length;s++)e===R[s].role&&t.push(R[s]);return t};var M=s(7805);const O=s.p+"static/media/logoBee.4eceec187980ea7b0f7a.png";var H=s(1009),Y=s(3768),F=s(851);const Z=e=>{let{showSidebar:t,setShowSidebar:s,collapsed:n,toggleCollapsed:i}=e;const o=(0,z.wA)(),c=(0,l.Zp)(),{pathname:d}=(0,l.zy)(),m=(0,z.d4)((e=>e.auth.userInfo)),h=(null===m||void 0===m?void 0:m.role)||"",[x,u]=(0,a.useState)([]),[p,g]=(0,a.useState)(!1),j="admin"===h?"/admin/dashboard":"/restaurant/dashboard";(0,a.useEffect)((()=>{const e=A(h);u(e)}),[h]),(0,a.useEffect)((()=>{m||c("/login")}),[m,c]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{onClick:()=>s(!1),className:`fixed duration-200 ${t?"visible":"invisible"} w-screen h-screen bg-[#8cbce780] top-0 left-0 z-10`}),(0,r.jsxs)("div",{className:`${n?"w-[70px]":"w-[260px]"} fixed bg-white z-50 top-0 h-screen shadow-lg transition-all ${t?"left-0":n?"-left-[70px] lg:left-0":"-left-[260px] lg:left-0"}`,children:[(0,r.jsxs)("div",{className:"h-[70px] flex justify-between items-center border-b border-gray-200 px-4",children:[!n&&(0,r.jsx)(E.N_,{to:j,className:"w-[180px] h-[180px]",children:(0,r.jsx)("img",{className:"w-full h-full",src:O,alt:""})}),(0,r.jsx)("button",{onClick:i,className:"flex items-center justify-center rounded-full w-8 h-8 "+(n?"ml-auto":""),children:n?(0,r.jsx)(H.fNe,{size:24,color:"black"}):(0,r.jsx)(H.YPh,{size:24,color:"black"})})]}),(0,r.jsxs)("div",{className:"px-[16px] py-[50px] h-[calc(100%-70px)] flex flex-col justify-between "+(n?"items-center":""),children:[(0,r.jsx)("ul",{className:""+(n?"flex flex-col items-center":"w-full"),children:x.map(((e,t)=>(0,r.jsx)("li",{className:n?"w-10":"w-full",children:(0,r.jsxs)(E.N_,{to:e.path,className:`${d.startsWith(e.path)?"bg-blue-600 shadow-indigo-500/50 text-white duration-500":"text-gray-700 hover:bg-gray-100 duration-200"} \n                    text-lg font-bold px-[12px] py-[15px] rounded-lg flex ${n?"justify-center":"justify-start"} items-center gap-[12px] hover:pl-4 transition-all w-full mb-1`,title:e.title,children:[(0,r.jsx)("span",{children:e.icon}),!n&&(0,r.jsx)("span",{className:"font-bold text-lg",children:e.title})]})},t)))}),(0,r.jsxs)("div",{className:`flex flex-col ${n?"items-center":""} w-full`,children:[(0,r.jsx)("hr",{className:"border-t border-gray-200 my-2 w-full"}),(0,r.jsxs)("li",{className:n?"w-10":"w-full",style:{listStyle:"none"},children:[(0,r.jsxs)("button",{onClick:()=>g(!p),className:`text-gray-700 hover:bg-gray-100 text-lg font-bold duration-200 px-[12px] py-[15px] rounded-lg flex ${n?"justify-center":"justify-start"} items-center gap-[12px] hover:pl-4 transition-all w-full mb-1`,title:"Setting",children:[(0,r.jsx)("span",{children:(0,r.jsx)(T.ikl,{})}),!n&&(0,r.jsx)("span",{className:"font-bold text-lg",children:"C\xe0i \u0111\u1eb7t"})]}),p&&(0,r.jsxs)("ul",{className:"mt-2 "+(n?"ml-0":"ml-4"),children:[(0,r.jsx)("li",{children:(0,r.jsxs)(E.N_,{to:"https://resource.foody.vn/web/security-policy-en.html",className:"text-gray-700 hover:bg-gray-100 text-lg font-bold duration-200 px-[12px] py-[10px] rounded-lg flex items-center gap-2",children:[(0,r.jsx)(I.Ymh,{size:20}),(0,r.jsx)("span",{className:"font-bold text-lg",children:"Ch\xednh s\xe1ch b\u1ea3o m\u1eadt"})]})}),(0,r.jsx)("li",{children:(0,r.jsxs)(E.N_,{to:"./help-center",className:"text-gray-700 hover:bg-gray-100 text-lg font-bold duration-200 px-[12px] py-[10px] rounded-lg flex items-center gap-2",children:[(0,r.jsx)(I.Obp,{}),(0,r.jsx)("span",{className:"font-bold text-lg",children:"H\u1ed7 tr\u1ee3"})]})})]})]}),(0,r.jsx)("li",{className:n?"w-10":"w-full",style:{listStyle:"none"},children:(0,r.jsxs)("button",{onClick:async()=>{localStorage.removeItem("userToken"),c("/login"),Y.Ay.success("Logout success"),o((0,F.Tn)())},className:`text-gray-700 hover:bg-gray-100 text-lg font-bold duration-200 px-[12px] py-[15px] rounded-lg flex ${n?"justify-center":"justify-start"} items-center gap-[12px] hover:pl-4 transition-all w-full mb-1`,title:"Logout",children:[(0,r.jsx)("span",{children:(0,r.jsx)(M.eZR,{})}),!n&&(0,r.jsx)("span",{className:"font-bold text-lg",children:"\u0110\u0103ng xu\u1ea5t"})]})})]})]})]})]})};var B=s(8563);const G=s.p+"static/media/admin.2675d23c4b0dbb05d880.png",J={setColor:e=>({type:"SET_COLOR",payload:e}),setMode:e=>({type:"SET_MODE",payload:e}),getTheme:()=>({type:"GET_THEME"})},U=[{id:"blue",name:"Blue",background:"blue-color",class:"theme-color-blue"},{id:"red",name:"Red",background:"red-color",class:"theme-color-red"},{id:"cyan",name:"Cyan",background:"cyan-color",class:"theme-color-cyan"},{id:"green",name:"Green",background:"green-color",class:"theme-color-green"},{id:"orange",name:"Orange",background:"orange-color",class:"theme-color-orange"}];const W=function(){const e=(0,a.useRef)(null),t=(0,a.useRef)(null);var s,l;s=e,l=t,document.addEventListener("mousedown",(e=>{l.current&&l.current.contains(e.target)?s.current.classList.toggle("active"):s.current&&!s.current.contains(e.target)&&s.current.classList.remove("active")}));const[n,i]=(0,a.useState)("blue"),o=(0,z.wA)();return(0,a.useEffect)((()=>{const e=U.find((e=>e.class===localStorage.getItem("colorMode","theme-mode-light")));void 0!==e&&i(e.id)}),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{ref:t,className:"dropdown__toggle",onClick:()=>e.current.classList.add("active"),children:(0,r.jsx)("i",{className:"bx bx-palette"})}),(0,r.jsxs)("div",{ref:e,className:"theme-menu",children:[(0,r.jsx)("h4",{children:"Theme settings"}),(0,r.jsx)("button",{className:"theme-menu__close",onClick:()=>e.current.classList.remove("active"),children:(0,r.jsx)("i",{className:"bx bx-x"})}),(0,r.jsxs)("div",{className:"theme-menu__select",children:[(0,r.jsx)("span",{children:"Choose color"}),(0,r.jsx)("ul",{className:"mode-list",children:U.map(((e,t)=>(0,r.jsxs)("li",{onClick:()=>{return i((t=e).id),localStorage.setItem("colorMode",t.class),void o(J.setColor(t.class));var t},children:[(0,r.jsx)("div",{className:`mode-list__color ${e.background} ${e.id===n?"active":""}`,children:(0,r.jsx)("i",{className:"bx bx-check"})}),(0,r.jsx)("span",{children:e.name})]},t)))})]})]})]})};const X=function(e){const t=(0,a.useRef)(null),s=(0,a.useRef)(null);var l,n;return l=s,n=t,document.addEventListener("mousedown",(e=>{n.current&&n.current.contains(e.target)?l.current.classList.toggle("active"):l.current&&!l.current.contains(e.target)&&l.current.classList.remove("active")})),(0,r.jsxs)("div",{className:"dropdown",children:[(0,r.jsxs)("button",{ref:t,className:"dropdown__toggle",children:[e.icon?(0,r.jsx)("i",{className:e.icon}):"",e.badge?(0,r.jsx)("span",{className:"dropdown__toggle-badge",children:e.badge}):"",e.customToggle?e.customToggle():""]}),(0,r.jsxs)("div",{ref:s,className:"dropdown__content ",children:[e.contentData&&e.renderItems?e.contentData.map(((t,s)=>e.renderItems(t,s))):"",e.renderFooter?(0,r.jsx)("div",{className:"dropdown__footer",children:e.renderFooter()}):""]})]})},q={display_name:"Admin",image:G},K=e=>{let{collapsed:t}=e;const s=(0,z.wA)(),n=(0,l.Zp)(),{feedbacks:i,loader:o,errorMessage:c}=(0,z.d4)((e=>e.feedback));(0,a.useEffect)((()=>{s((0,B.k1)())}),[s]);const d=i.slice(-5).reverse(),m=i.filter((e=>!e.is_checked)).length,h=(e,t)=>(0,r.jsxs)("div",{className:"notification-item"+(e.is_checked?" notification-item--checked":""),onClick:()=>{return t=e.id,void n(`/admin/feedback/${t}`);var t},style:{cursor:"pointer"},children:[(0,r.jsx)("div",{className:"notification-item__avatar",children:(0,r.jsx)("i",{className:"bx bx-user"})}),(0,r.jsxs)("div",{className:"notification-item__info",children:[(0,r.jsx)("div",{className:"notification-item__header",children:(0,r.jsx)("span",{className:"notification-item__name",children:e.name})}),(0,r.jsxs)("div",{className:"notification-item__content",children:[e.content,e.order&&(0,r.jsx)("div",{className:"notification-item__order",children:(0,r.jsxs)("span",{children:["\u0110\u01a1n h\xe0ng #",e.order.id]})})]})]})]},e.id||t);return(0,r.jsx)("div",{className:"topnav "+(t?"collapsed":""),children:(0,r.jsxs)("div",{className:"topnav__right",children:[(0,r.jsx)("div",{className:"topnav__right-item",children:(0,r.jsxs)("div",{className:"topnav__right-user",children:[(0,r.jsx)("div",{className:"topnav__right-user__image",children:(0,r.jsx)("img",{src:q.image,alt:"User"})}),(0,r.jsx)("div",{className:"topnav__right-user__name",children:q.display_name})]})}),(0,r.jsx)("div",{className:"topnav__right-item",children:o?(0,r.jsx)("div",{children:"Loading..."}):c?(0,r.jsxs)("div",{children:["Error: ",c]}):(0,r.jsx)(X,{className:"",icon:"bx bx-bell",badge:m.toString(),contentData:d,renderItems:(e,t)=>h(e,t),renderFooter:()=>(0,r.jsxs)(E.N_,{to:"/admin/feedback",children:["Xem t\u1ea5t c\u1ea3 (",i.length,")"]})})}),(0,r.jsx)("div",{className:"topnav__right-item",children:(0,r.jsx)(W,{})})]})})},Q=()=>{const[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)((()=>{const e=localStorage.getItem("sidebarCollapsed");return null!==e&&JSON.parse(e)})),i=(0,z.d4)((e=>e.ThemeReducer)),o=(0,z.wA)();(0,a.useEffect)((()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(s))}),[s]),(0,a.useEffect)((()=>{const e=localStorage.getItem("colorMode")||"blue";o(J.setColor(e))}),[o]);const c=()=>{n(!s)};return(0,r.jsxs)("div",{className:`min-h-screen ${i.mode} ${i.color}`,children:[(0,r.jsx)(Z,{showSidebar:e,setShowSidebar:t,collapsed:s,toggleCollapsed:c}),(0,r.jsxs)("div",{className:`layout__content ${s?"ml-0 lg:ml-[70px]":"ml-0 lg:ml-[260px]"}  transition-all duration-300`,children:[(0,r.jsx)(K,{collapsed:s,showSidebar:e,setShowSidebar:t,toggleCollapsed:c}),(0,r.jsx)("div",{className:"layout__content-main px-4",children:(0,r.jsx)(l.sv,{})})]})]})};const V=function(){const[e,t]=(0,a.useState)([...c]);return(0,a.useEffect)((()=>{const e=(()=>{const e=S.map((e=>({...e,element:(0,r.jsx)(C,{children:e.element})})));return{path:"/",element:(0,r.jsx)(Q,{}),children:e}})();t([...c,e])}),[]),(0,r.jsx)(n,{allRoutes:e})}}}]);
//# sourceMappingURL=958.3c022fbf.chunk.js.map