"use strict";(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[947],{2331:(e,t,r)=>{r.d(t,{A:()=>a});r(5043);var n=r(7149),s=r(579);const a=e=>{let{pageNumber:t,setPageNumber:r,totalItem:a,parPage:o,showItem:i}=e;const l=Math.ceil(a/o);let c=Math.max(1,t-Math.floor(i/2)),d=Math.min(l,c+i-1);d-c+1<i&&(c=Math.max(1,d-i+1));return(0,s.jsxs)("ul",{className:"flex gap-3",children:[t>1&&(0,s.jsx)("li",{onClick:()=>r(t-1),className:"w-[33px] h-[33px] rounded-full flex justify-center items-center bg-white text-blue-500 cursor-pointer border border-blue-200 hover:bg-blue-50",children:(0,s.jsx)(n.U6K,{})}),(()=>{const e=[];for(let n=c;n<=d;n++)n<1||n>l||e.push((0,s.jsx)("li",{onClick:()=>r(n),className:"".concat(t===n?"bg-blue-500 shadow-lg shadow-blue-300/50 text-white":"bg-white hover:bg-blue-100 shadow-md hover:shadow-blue-200/50 text-blue-500 border border-blue-200"," \n                        w-[33px] h-[33px] rounded-full flex justify-center items-center cursor-pointer"),children:n},n));return e})(),t<l&&(0,s.jsx)("li",{onClick:()=>r(t+1),className:"w-[33px] h-[33px] rounded-full flex justify-center items-center bg-white text-blue-500 cursor-pointer border border-blue-200 hover:bg-blue-50",children:(0,s.jsx)(n.b0J,{})})]})}},4163:(e,t,r)=>{r.d(t,{A:()=>s});r(5043);var n=r(579);const s=e=>{let{setParPage:t,setSearchValue:r,searchValue:s}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-gray-700 text-xl italic",children:"Hi\u1ec7n th\u1ecb"}),(0,n.jsxs)("select",{onChange:e=>t(parseInt(e.target.value)),className:"px-4 py-2 bg-white text-black border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[(0,n.jsx)("option",{value:"5",children:"5"}),(0,n.jsx)("option",{value:"10",children:"10"}),(0,n.jsx)("option",{value:"20",children:"20"})]})]})}},3947:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(5043),s=r(3003),a=r(1816),o=r(1009),i=r(6178),l=r.n(i),c=r(9379),d=r(3768),u=r(579);const m=e=>{if(!e)return"";const t=new Date(e),r=t.getTimezoneOffset();return new Date(t.getTime()-60*r*1e3).toISOString().slice(0,16)},g=e=>{let{onClose:t,editData:r,isEditing:o}=e;const i=(0,s.wA)(),{loader:l,errorMessage:g,successMessage:x}=(0,s.d4)((e=>e.coupon)),{userInfo:h}=(0,s.d4)((e=>e.auth)),[p,b]=(0,n.useState)({coupon_name:"",coupon_code:"",discount_value:"",discount_type:"PERCENTAGE",max_discount_amount:"",min_order_value:"",max_uses_per_user:"",start_date:"",end_date:"",is_active:!0,coupon_type:"ONE_TIME"});(0,n.useEffect)((()=>{x&&(d.Ay.success(x),i((0,a.Tn)()),t&&t()),g&&(d.Ay.error(g),i((0,a.Tn)()))}),[x,g,i,t]),(0,n.useEffect)((()=>{r&&b((0,c.A)((0,c.A)({},r),{},{start_date:m(r.start_date),end_date:m(r.end_date)}))}),[r]),(0,n.useEffect)((()=>{x&&(i((0,a.Tn)()),t&&t()),g&&i((0,a.Tn)())}),[x,g,i,t]);const f=e=>{const{name:t,value:r,type:n,checked:s}=e.target;b((0,c.A)((0,c.A)({},p),{},{[t]:"checkbox"===n?s:r}))};return(0,u.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,u.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-gray-800 border-b pb-3 sticky top-0 bg-white z-10",children:o?"Ch\u1ec9nh s\u1eeda m\xe3 gi\u1ea3m gi\xe1":"T\u1ea1o m\xe3 gi\u1ea3m gi\xe1 m\u1edbi"}),(0,u.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(()=>{if(!p.coupon_name)return d.Ay.error("Vui l\xf2ng nh\u1eadp t\xean m\xe3 gi\u1ea3m gi\xe1"),!1;if(!p.coupon_code)return d.Ay.error("Vui l\xf2ng nh\u1eadp m\xe3 gi\u1ea3m gi\xe1"),!1;if(!p.discount_value)return d.Ay.error("Vui l\xf2ng nh\u1eadp gi\xe1 tr\u1ecb gi\u1ea3m"),!1;if(parseFloat(p.discount_value)<=0)return d.Ay.error("Gi\xe1 tr\u1ecb gi\u1ea3m ph\u1ea3i l\u1edbn h\u01a1n 0"),!1;if(!p.start_date)return d.Ay.error("Vui l\xf2ng ch\u1ecdn ng\xe0y b\u1eaft \u0111\u1ea7u"),!1;if(!p.end_date)return d.Ay.error("Vui l\xf2ng ch\u1ecdn ng\xe0y k\u1ebft th\xfac"),!1;const e=new Date(p.start_date),t=new Date(p.end_date);if(e<new Date)return d.Ay.error("Ng\xe0y b\u1eaft \u0111\u1ea7u ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i"),!1;if(t<=e)return d.Ay.error("Ng\xe0y k\u1ebft th\xfac ph\u1ea3i sau ng\xe0y b\u1eaft \u0111\u1ea7u"),!1;if(p.max_discount_amount){const e=Number(p.max_discount_amount);if(e<=1e3)return d.Ay.error("Gi\xe1 tr\u1ecb gi\u1ea3m t\u1ed1i \u0111a ph\u1ea3i l\u1edbn h\u01a1n 1000"),!1;if(e%1e3!==0){const t=1e3*Math.floor(e/1e3),r=t+1e3;return d.Ay.error("Vui l\xf2ng nh\u1eadp b\u1ed9i s\u1ed1 c\u1ee7a 1000. Hai gi\xe1 tr\u1ecb g\u1ea7n nh\u1ea5t l\xe0 ".concat(t.toLocaleString()," v\xe0 ").concat(r.toLocaleString())),!1}}if(p.min_order_value){const e=Number(p.min_order_value);if(e<=0)return d.Ay.error("Gi\xe1 tr\u1ecb \u0111\u01a1n h\xe0ng t\u1ed1i thi\u1ec3u ph\u1ea3i l\u1edbn h\u01a1n 0"),!1;if(e%1e3!==0){const t=1e3*Math.floor(e/1e3),r=t+1e3;return d.Ay.error("Vui l\xf2ng nh\u1eadp b\u1ed9i s\u1ed1 c\u1ee7a 1000. Hai gi\xe1 tr\u1ecb g\u1ea7n nh\u1ea5t l\xe0 ".concat(t.toLocaleString()," v\xe0 ").concat(r.toLocaleString())),!1}}return p.max_uses_per_user&&parseInt(p.max_uses_per_user)<=0?(d.Ay.error("S\u1ed1 l\u1ea7n s\u1eed d\u1ee5ng t\u1ed1i \u0111a ph\u1ea3i l\u1edbn h\u01a1n 0"),!1):!("PERCENTAGE"===p.discount_type&&parseFloat(p.discount_value)>100)||(d.Ay.error("Gi\xe1 tr\u1ecb ph\u1ea7n tr\u0103m gi\u1ea3m kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 100%"),!1)})())return;const t=localStorage.getItem("userToken"),r=(null===h||void 0===h?void 0:h.user_id)||localStorage.getItem("adminId");if(!t||!r)return void d.Ay.error("B\u1ea1n c\u1ea7n \u0111\u0103ng nh\u1eadp l\u1ea1i \u0111\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng n\xe0y");const n=(0,c.A)((0,c.A)({},p),{},{discount_value:parseFloat(p.discount_value),max_discount_amount:p.max_discount_amount?parseFloat(p.max_discount_amount):void 0,min_order_value:p.min_order_value?parseFloat(p.min_order_value):void 0,max_uses_per_user:p.max_uses_per_user?parseInt(p.max_uses_per_user):void 0});i(o?(0,a.GM)({body:n}):(0,a.iW)({body:n}))},className:"px-1",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{className:"space-y-1.5",children:[(0,u.jsxs)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"coupon_name",children:["T\xean m\xe3 gi\u1ea3m gi\xe1 ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"text",id:"coupon_name",name:"coupon_name",value:p.coupon_name,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",placeholder:"Nh\u1eadp t\xean m\xe3 gi\u1ea3m gi\xe1",required:!0})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"coupon_code",children:["M\xe3 gi\u1ea3m gi\xe1 ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"text",id:"coupon_code",name:"coupon_code",value:p.coupon_code,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",placeholder:"V\xed d\u1ee5: SUMMER2023",required:!0})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"discount_type",children:["Lo\u1ea1i gi\u1ea3m gi\xe1 ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsxs)("select",{id:"discount_type",name:"discount_type",value:p.discount_type,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",required:!0,children:[(0,u.jsx)("option",{value:"PERCENTAGE",children:"Ph\u1ea7n tr\u0103m (%)"}),(0,u.jsx)("option",{value:"FIXED_AMOUNT",children:"S\u1ed1 ti\u1ec1n c\u1ed1 \u0111\u1ecbnh (VN\u0110)"})]})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"discount_value",children:["Gi\xe1 tr\u1ecb gi\u1ea3m ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"number",id:"discount_value",name:"discount_value",value:p.discount_value,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",placeholder:"PERCENTAGE"===p.discount_type?"Nh\u1eadp % gi\u1ea3m gi\xe1":"Nh\u1eadp s\u1ed1 ti\u1ec1n gi\u1ea3m",min:"0",step:"PERCENTAGE"===p.discount_type?"0.1":"1000",required:!0}),(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"PERCENTAGE"===p.discount_type?"Gi\xe1 tr\u1ecb t\u1eeb 0-100%":"S\u1ed1 ti\u1ec1n (VN\u0110)"})]}),"PERCENTAGE"===p.discount_type&&(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"max_discount_amount",children:"Gi\u1ea3m t\u1ed1i \u0111a (VN\u0110)"}),(0,u.jsx)("input",{type:"number",id:"max_discount_amount",name:"max_discount_amount",value:p.max_discount_amount,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",placeholder:"Nh\u1eadp s\u1ed1 ti\u1ec1n gi\u1ea3m t\u1ed1i \u0111a",min:"0",step:"1000"}),(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"\u0110\u1ec3 tr\u1ed1ng n\u1ebfu kh\xf4ng gi\u1edbi h\u1ea1n"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"min_order_value",children:"Gi\xe1 tr\u1ecb \u0111\u01a1n h\xe0ng t\u1ed1i thi\u1ec3u (VN\u0110)"}),(0,u.jsx)("input",{type:"number",id:"min_order_value",name:"min_order_value",value:p.min_order_value,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",placeholder:"Nh\u1eadp gi\xe1 tr\u1ecb \u0111\u01a1n h\xe0ng t\u1ed1i thi\u1ec3u",min:"0",step:"1000"}),(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"\u0110\u1ec3 tr\u1ed1ng n\u1ebfu kh\xf4ng y\xeau c\u1ea7u t\u1ed1i thi\u1ec3u"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsx)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"max_uses_per_user",children:"S\u1ed1 l\u1ea7n s\u1eed d\u1ee5ng t\u1ed1i \u0111a"}),(0,u.jsx)("input",{type:"number",id:"max_uses_per_user",name:"max_uses_per_user",value:p.max_uses_per_user,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",placeholder:"Nh\u1eadp s\u1ed1 l\u1ea7n s\u1eed d\u1ee5ng t\u1ed1i \u0111a",min:"1",step:"1"}),(0,u.jsx)("span",{className:"text-sm text-gray-500",children:"\u0110\u1ec3 tr\u1ed1ng n\u1ebfu kh\xf4ng gi\u1edbi h\u1ea1n"})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"coupon_type",children:["Lo\u1ea1i m\xe3 ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsxs)("select",{id:"coupon_type",name:"coupon_type",value:p.coupon_type,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",required:!0,children:[(0,u.jsx)("option",{value:"ONE_TIME",children:"S\u1eed d\u1ee5ng m\u1ed9t l\u1ea7n"}),(0,u.jsx)("option",{value:"ONE_TIME_EVERY_DAY",children:"S\u1eed d\u1ee5ng m\u1ed7i ng\xe0y m\u1ed9t l\u1ea7n"})]})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"start_date",children:["Ng\xe0y b\u1eaft \u0111\u1ea7u ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"datetime-local",id:"start_date",name:"start_date",value:p.start_date,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",required:!0})]}),(0,u.jsxs)("div",{className:"space-y-2",children:[(0,u.jsxs)("label",{className:"block text-gray-700 text-lg font-semibold",htmlFor:"end_date",children:["Ng\xe0y k\u1ebft th\xfac ",(0,u.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,u.jsx)("input",{type:"datetime-local",id:"end_date",name:"end_date",value:p.end_date,onChange:f,className:"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200",required:!0})]})]}),(0,u.jsx)("div",{className:"mt-4",children:(0,u.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[(0,u.jsx)("input",{type:"checkbox",name:"is_active",checked:p.is_active,onChange:f,className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-400 transition duration-200"}),(0,u.jsx)("span",{className:"text-gray-700 text-base font-semibold group-hover:text-orange-600 transition duration-200",children:"K\xedch ho\u1ea1t ngay"})]})}),(0,u.jsxs)("div",{className:"flex justify-end mt-6 border-t pt-4",children:[(0,u.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 mr-3",children:"H\u1ee7y"}),(0,u.jsx)("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-orange-500 text-white font-medium rounded-lg \r hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-400 \r focus:ring-offset-2 transition duration-200\r disabled:opacity-70 disabled:cursor-not-allowed\r flex items-center justify-center gap-2",children:l?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,u.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,u.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"\u0110ang x\u1eed l\xfd..."]}):o?"C\u1eadp nh\u1eadt m\xe3 gi\u1ea3m gi\xe1":"T\u1ea1o m\xe3 gi\u1ea3m gi\xe1"})]})]})]})};var x=r(7343),h=r(4163),p=r(2331);const b=()=>{const e=(0,s.wA)(),{coupons:t,loader:r}=(0,s.d4)((e=>e.coupon)),[i,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(null),[b,f]=(0,n.useState)(1),[y,_]=(0,n.useState)(""),[N,j]=(0,n.useState)(5);(0,n.useEffect)((()=>{e((0,a.NZ)())}),[e]),(0,n.useEffect)((()=>{f(1)}),[y,N]);const v=null===t||void 0===t?void 0:t.filter((e=>e.coupon_code.toLowerCase().includes(y.toLowerCase())||e.coupon_name.toLowerCase().includes(y.toLowerCase()))),w=v.length,E=b*N,C=E-N,k=v.slice(C,E),A=()=>{c(!1),m(null)};return(0,u.jsxs)("div",{className:"px-2 lg:px-7 pt-5",children:[(0,u.jsx)("h1",{className:"text-[#000000] font-semibold text-4xl mb-3",children:"M\xe3 Gi\u1ea3m Gi\xe1"}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("div",{className:"mb-4 flex items-center gap-4",children:(0,u.jsx)(h.A,{setParPage:j,setSearchValue:_,searchValue:y,placeholder:"T\xecm ki\u1ebfm m\xe3 gi\u1ea3m gi\xe1..."})}),(0,u.jsx)("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-4",children:(0,u.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-all",children:[(0,u.jsx)(o.GGD,{className:"text-xl"}),(0,u.jsx)("span",{children:"Th\xeam M\xe3 Gi\u1ea3m Gi\xe1"})]})})]}),(0,u.jsx)("div",{className:"relative overflow-x-auto mt-5",children:r?(0,u.jsx)("div",{className:"text-center py-8",children:(0,u.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full mx-auto"})}):(0,u.jsxs)("table",{className:"w-full text-base text-left text-gray-700 bg-white",children:[(0,u.jsx)("thead",{className:"text-sm text-gray-700 uppercase bg-gray-100 border-b",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"py-3 px-4",children:"T\xean m\xe3"}),(0,u.jsx)("th",{className:"py-3 px-4",children:"M\xe3 gi\u1ea3m gi\xe1"}),(0,u.jsx)("th",{className:"py-3 px-4",children:"Lo\u1ea1i"}),(0,u.jsx)("th",{className:"py-3 px-4",children:"Gi\xe1 tr\u1ecb"}),(0,u.jsx)("th",{className:"py-3 px-4",children:"Th\u1eddi gian"}),(0,u.jsx)("th",{className:"py-3 px-4",children:"Tr\u1ea1ng th\xe1i"})]})}),(0,u.jsx)("tbody",{children:k.map((e=>(0,u.jsxs)("tr",{className:"bg-white border-b hover:bg-blue-200 cursor-pointer transition",onClick:()=>(e=>{m(e),c(!0)})(e),children:[(0,u.jsx)("td",{className:"py-2 px-4 font-medium text-xl",children:e.coupon_name}),(0,u.jsx)("td",{className:"py-2 px-4 font-medium text-xl",children:e.coupon_code}),(0,u.jsx)("td",{className:"py-2 px-4 font-medium text-xl",children:"PERCENTAGE"===e.discount_type?"Ph\u1ea7n tr\u0103m":"S\u1ed1 ti\u1ec1n"}),(0,u.jsx)("td",{className:"py-2 px-4 font-medium text-xl",children:"PERCENTAGE"===e.discount_type?"".concat(e.discount_value,"%"):"".concat(Number(e.discount_value).toLocaleString(),"\u0111")}),(0,u.jsxs)("td",{className:"py-2 px-4 font-medium text-sm",children:[(0,u.jsxs)("p",{children:["T\u1eeb: ",l()(e.start_date).format("DD/MM/YYYY HH:mm")]}),(0,u.jsxs)("p",{children:["\u0110\u1ebfn: ",l()(e.end_date).format("DD/MM/YYYY HH:mm")]})]}),(0,u.jsx)("td",{className:"py-2 px-4 font-medium text-xl",children:(0,u.jsx)("span",{className:"px-2 py-1 rounded-full text-sm ".concat((0,x.F1)(e.start_date,e.end_date,e.is_active).className),children:(0,x.F1)(e.start_date,e.end_date,e.is_active).text})})]},e.id)))})]})}),(0,u.jsx)("div",{className:"w-full flex justify-end mt-4 bottom-4 right-4",children:(0,u.jsx)(p.A,{pageNumber:b,setPageNumber:f,totalItem:w,parPage:N,showItem:3})}),i&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),(0,u.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,u.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full mx-auto",children:[(0,u.jsx)("div",{className:"flex justify-end p-2",children:(0,u.jsxs)("button",{onClick:A,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:[(0,u.jsx)("span",{className:"sr-only",children:"\u0110\xf3ng"}),(0,u.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,u.jsx)("div",{className:"p-6",children:(0,u.jsx)(g,{onClose:A,onSuccess:()=>{e((0,a.NZ)()),A()},editData:d,isEditing:!!d})})]})})]})]})}},7343:(e,t,r)=>{r.d(t,{F1:()=>n,bN:()=>o,mK:()=>s,vv:()=>a});const n=(e,t,r)=>{const n=new Date,s=new Date(e),a=new Date(t);return r?n<s?{status:"pending",text:"Ch\u01b0a b\u1eaft \u0111\u1ea7u",className:"bg-yellow-100 text-yellow-800"}:n>a?{status:"expired",text:"\u0110\xe3 h\u1ebft h\u1ea1n",className:"bg-red-100 text-red-800"}:{status:"active",text:"\u0110ang ho\u1ea1t \u0111\u1ed9ng",className:"bg-green-100 text-green-800"}:{status:"inactive",text:"\u0110\xe3 kh\xf3a",className:"bg-red-100 text-red-800"}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;const r=new Date(t);r.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999);const s=e.filter((e=>{const t=new Date(e.order_date);return t>=r&&t<=n})),a=s.reduce(((e,t)=>{if("ORDER_CONFIRMED"===t.order_status){return e+(parseFloat(t.price)+parseFloat(t.delivery_fee))}return e}),0);return{totalRevenue:a,orderCount:s.length,completedOrders:s.filter((e=>"ORDER_CONFIRMED"===e.order_status)).length,canceledOrders:s.filter((e=>"ORDER_CANCELED"===e.order_status)).length,averageOrderValue:s.length>0?a/s.length:0}},a=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),o=e=>{const t=[],r=new Date;for(let n=11;n>=0;n--){const s=new Date(r.getFullYear(),r.getMonth()-n,1),o=new Date(s.getFullYear(),s.getMonth(),1),i=new Date(s.getFullYear(),s.getMonth()+1,0,23,59,59,999),l=e.filter((e=>{const t=new Date(e.order_date);return t>=o&&t<=i})),c=l.reduce(((e,t)=>"ORDER_CONFIRMED"===t.order_status?e+parseFloat(t.price):e),0);t.push({month:s.toLocaleString("vi-VN",{month:"long"}),shortMonth:s.toLocaleString("vi-VN",{month:"short"}),year:s.getFullYear(),revenue:c,formattedRevenue:a(c),orderCount:l.length,completedOrders:l.filter((e=>"ORDER_CONFIRMED"===e.order_status)).length})}return t}}}]);
//# sourceMappingURL=947.be90b251.chunk.js.map