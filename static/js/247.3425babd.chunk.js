"use strict";(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[247],{1247:(e,s,l)=>{l.r(s),l.d(s,{default:()=>i});var t=l(5043),r=l(3003),a=l(9871),n=l(5369),d=l(3768),o=l(579);const i=()=>{const e=(0,r.wA)(),s=(0,t.useRef)(null),{restaurant:l,successMessage:i,errorMessage:c,loader:x}=(0,r.d4)((e=>e.restaurant)),[u,m]=(0,t.useState)(!1),[b,g]=(0,t.useState)({}),[h,p]=(0,t.useState)(null);(0,t.useEffect)((()=>{e((0,a.Tp)(1)),(0,a.Tn)()}),[e]),(0,t.useEffect)((()=>{l&&(g(l),p(l.image||null))}),[l]),(0,t.useEffect)((()=>{i&&setTimeout((()=>{e((0,a.Tn)())}),3e3),c&&setTimeout((()=>{e((0,a.Tn)())}),3e3)}),[i,c,e]);const f=e=>{const{name:s,value:l}=e.target;g((e=>({...e,[s]:l})))},N=async()=>{let s=b.image;b.imageFile;const l={name:b.name,image:s,address:b.address,opening_hours:b.opening_hours,phone_number:b.phone_number,description:b.description};try{await e((0,a.H8)(l)).unwrap(),d.Ay.success("Details updated successfully!"),m(!1),(0,a.Tn)()}catch(t){d.Ay.error(t||"Failed to update details."),(0,a.Tn)()}};return x?(0,o.jsx)("div",{className:"text-center py-5",children:"Loading..."}):(0,o.jsx)("div",{className:"max-w-4xl w-full bg-white rounded-xl shadow-md p-10 mt-8 ml-0",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center md:w-1/4 w-full relative",children:[h?(0,o.jsx)("img",{src:h,alt:b.name,className:"w-36 h-36 rounded-full border-4 border-blue-400 shadow object-cover"}):(0,o.jsx)("div",{className:"w-36 h-36 flex items-center justify-center rounded-full bg-gray-100 border-4 border-blue-400 text-gray-400 text-4xl font-bold shadow",children:"N/A"}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"button",onClick:()=>{s.current&&s.current.click()},className:"absolute bottom-2 right-2 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition",title:"Change Image",children:"\u0110\u1ed5i \u1ea3nh"}),(0,o.jsx)("input",{type:"file",accept:"image/*",ref:s,onChange:e=>{const s=e.target.files[0];if(s){const e=URL.createObjectURL(s);p(e),g((l=>({...l,image:e,imageFile:s})))}},className:"hidden"})]}),(0,o.jsx)("div",{className:"mt-4 text-xl font-bold text-blue-700",children:b.name||"Restaurant Name"}),(0,o.jsx)("div",{className:"text-base text-gray-500",children:b.status||"Active"}),!u&&(0,o.jsxs)("button",{onClick:()=>m(!0),className:"mt-5 px-5 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700 text-lg font-semibold transition",children:["Edit Profile ",(0,o.jsx)(n.wwX,{className:"inline ml-2"})]})]}),(0,o.jsx)("div",{className:"flex-1 w-full",children:(0,o.jsxs)("form",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[(0,o.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,o.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Name"}),u?(0,o.jsx)("input",{type:"text",name:"name",value:b.name||"",onChange:f,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900"}):(0,o.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900",children:b.name||"N/A"})]}),(0,o.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,o.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Phone"}),u?(0,o.jsx)("input",{type:"text",name:"phone_number",value:b.phone_number||"",onChange:f,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900"}):(0,o.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900",children:b.phone_number||"N/A"})]})]}),(0,o.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[(0,o.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,o.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Address"}),u?(0,o.jsx)("input",{type:"text",name:"address",value:b.address||"",onChange:f,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900"}):(0,o.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900",children:b.address||"N/A"})]}),(0,o.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,o.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Opening Hours"}),u?(0,o.jsx)("input",{type:"text",name:"opening_hours",value:b.opening_hours||"",onChange:f,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900"}):(0,o.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900",children:b.opening_hours||"N/A"})]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Description"}),u?(0,o.jsx)("textarea",{name:"description",value:b.description||"",onChange:f,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900",rows:3}):(0,o.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900 whitespace-pre-line",children:b.description||"N/A"})]}),u&&(0,o.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,o.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-8 py-3 rounded bg-gray-100 border border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-200 transition",children:"Cancel"}),(0,o.jsx)("button",{type:"button",onClick:N,disabled:x,className:"px-8 py-3 rounded font-semibold text-lg text-white transition\n                    "+(x?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:x?"Saving...":"Save Changes"})]})]})}),(0,o.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 font-medium",children:"Address:"}),u?(0,o.jsx)("input",{type:"text",name:"address",value:b.address||"",onChange:f,className:"w-full border border-dashed border-gray-300 rounded-md p-2"}):(0,o.jsx)("p",{className:"text-gray-800",children:b.address||"N/A"})]}),(0,o.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 font-medium",children:"Status:"}),(0,o.jsx)("p",{className:"text-gray-800",children:b.status||"N/A"})]}),(0,o.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 font-medium",children:"Opening Hours:"}),u?(0,o.jsx)("input",{type:"text",name:"opening_hours",value:b.opening_hours||"",onChange:f,className:"w-full border border-dashed border-gray-300 rounded-md p-2"}):(0,o.jsx)("p",{className:"text-gray-800",children:b.opening_hours||"N/A"})]}),(0,o.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 font-medium",children:"Phone Number:"}),u?(0,o.jsx)("input",{type:"text",name:"phone_number",value:b.phone_number||"",onChange:f,className:"w-full border border-dashed border-gray-300 rounded-md p-2"}):(0,o.jsx)("p",{className:"text-gray-800",children:b.phone_number||"N/A"})]}),(0,o.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,o.jsx)("label",{className:"block text-gray-700 font-medium",children:"Description:"}),u?(0,o.jsx)("textarea",{name:"description",value:b.description||"",onChange:f,className:"w-full border border-dashed border-gray-300 rounded-md p-2"}):(0,o.jsx)("p",{className:"text-gray-800",children:b.description||"N/A"})]}),u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-"+(x?"2 bg-gray-":"2 bg-green-"),children:"Cancel"}),(0,o.jsx)("button",{onClick:N,disabled:x,className:`px-4 py-2 ${x?"bg-green-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600"} text-white rounded-md transition`,children:x?"Saving...":"Save Changes"})]}):(0,o.jsxs)("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:["Edit Details",(0,o.jsx)(n.wwX,{className:"inline ml-2"})]})]})})}}}]);
//# sourceMappingURL=247.3425babd.chunk.js.map