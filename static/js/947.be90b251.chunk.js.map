{"version":3,"file":"static/js/947.be90b251.chunk.js","mappings":"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","sources":["components/Pagination.jsx","components/Search.jsx","pages/Coupon.jsx","pages/CouponList.jsx","utils/utils.js"],"sourcesContent":["import React from 'react';\r\nimport { MdOutlineKeyboardDoubleArrowLeft, MdOutlineKeyboardDoubleArrowRight } from \"react-icons/md\";\r\n\r\nconst Pagination = ({ pageNumber, setPageNumber, totalItem, parPage, showItem }) => {\r\n    const totalPage = Math.ceil(totalItem / parPage);\r\n    \r\n    // Tính toán startPage và endPage\r\n    let startPage = Math.max(1, pageNumber - Math.floor(showItem / 2));\r\n    let endPage = Math.min(totalPage, startPage + showItem - 1);\r\n    \r\n    // Điều chỉnh nếu không đủ showItem\r\n    if (endPage - startPage + 1 < showItem) {\r\n        startPage = Math.max(1, endPage - showItem + 1);\r\n    }\r\n\r\n    const createBtn = () => {\r\n        const btns = [];\r\n        for (let i = startPage; i <= endPage; i++) {\r\n            if (i < 1 || i > totalPage) continue; // Đảm bảo chỉ tạo nút hợp lệ\r\n            btns.push(\r\n                <li \r\n                    key={i}\r\n                    onClick={() => setPageNumber(i)} \r\n                    className={`${pageNumber === i \r\n                        ? 'bg-blue-500 shadow-lg shadow-blue-300/50 text-white' \r\n                        : 'bg-white hover:bg-blue-100 shadow-md hover:shadow-blue-200/50 text-blue-500 border border-blue-200'} \r\n                        w-[33px] h-[33px] rounded-full flex justify-center items-center cursor-pointer`}\r\n                >\r\n                    {i}                    \r\n                </li>\r\n            ) \r\n        }\r\n        return btns;\r\n    }\r\n    \r\n    return (\r\n        <ul className='flex gap-3'>\r\n            {\r\n                pageNumber > 1 && \r\n                <li \r\n                    onClick={() => setPageNumber(pageNumber - 1)} \r\n                    className='w-[33px] h-[33px] rounded-full flex justify-center items-center bg-white text-blue-500 cursor-pointer border border-blue-200 hover:bg-blue-50'\r\n                >\r\n                    <MdOutlineKeyboardDoubleArrowLeft />\r\n                </li>\r\n            }\r\n            {\r\n                createBtn()\r\n            }\r\n            {\r\n                pageNumber < totalPage && \r\n                <li \r\n                    onClick={() => setPageNumber(pageNumber + 1)} \r\n                    className='w-[33px] h-[33px] rounded-full flex justify-center items-center bg-white text-blue-500 cursor-pointer border border-blue-200 hover:bg-blue-50'\r\n                >\r\n                    <MdOutlineKeyboardDoubleArrowRight />\r\n                </li>\r\n            }\r\n        </ul>\r\n    )\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\n\r\nconst Search = ({setParPage, setSearchValue, searchValue}) => {\r\n    return (\r\n            <div className='flex items-center gap-2'>\r\n                <span className=\"text-gray-700 text-xl italic\">Hiện thị</span>\r\n                <select \r\n                    onChange={(e) => setParPage(parseInt(e.target.value))} \r\n                    className='px-4 py-2 bg-white text-black border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent'\r\n                >\r\n                    <option value=\"5\">5</option>\r\n                    <option value=\"10\">10</option>\r\n                    <option value=\"20\">20</option> \r\n                </select>\r\n            </div>\r\n    );\r\n}; \r\n\r\nexport default Search;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  create_coupon,\r\n  messageClear,\r\n  edit_coupon,\r\n} from \"../store/reducers/couponReducer\";\r\nimport toast from \"react-hot-toast\";\r\nconst formatDateTimeForInput = (dateString) => {\r\n  if (!dateString) return \"\";\r\n  const date = new Date(dateString);\r\n  const offset = date.getTimezoneOffset();\r\n  const adjustedDate = new Date(date.getTime() - offset * 60 * 1000);\r\n  return adjustedDate.toISOString().slice(0, 16);\r\n};\r\nconst Coupon = ({ onClose, editData, isEditing }) => {\r\n  const dispatch = useDispatch();\r\n  const { loader, errorMessage, successMessage } = useSelector(\r\n    (state) => state.coupon\r\n  );\r\n  const { userInfo } = useSelector((state) => state.auth);\r\n\r\n  const initialState = {\r\n    coupon_name: \"\",\r\n    coupon_code: \"\",\r\n    discount_value: \"\",\r\n    discount_type: \"PERCENTAGE\",\r\n    max_discount_amount: \"\",\r\n    min_order_value: \"\",\r\n    max_uses_per_user: \"\",\r\n    start_date: \"\",\r\n    end_date: \"\",\r\n    is_active: true,\r\n    coupon_type: \"ONE_TIME\",\r\n  };\r\n\r\n  const [formData, setFormData] = useState(initialState);\r\n  useEffect(() => {\r\n    if (successMessage) {\r\n      toast.success(successMessage); \r\n      dispatch(messageClear());\r\n      onClose && onClose(); // Đóng form nếu có\r\n\r\n    }\r\n    if (errorMessage) {\r\n      toast.error(errorMessage); // Hiện toast lỗi\r\n      dispatch(messageClear());\r\n    }\r\n  }, [successMessage, errorMessage, dispatch, onClose]);\r\n  useEffect(() => {\r\n    if (editData) {\r\n      setFormData({\r\n        ...editData,\r\n        start_date: formatDateTimeForInput(editData.start_date),\r\n        end_date: formatDateTimeForInput(editData.end_date),\r\n      });\r\n    }\r\n  }, [editData]);\r\n  // Monitor notifications from Redux store\r\n  useEffect(() => {\r\n    if (successMessage) {\r\n      dispatch(messageClear());\r\n      onClose && onClose();\r\n    }\r\n    if (errorMessage) {\r\n      dispatch(messageClear());\r\n    }\r\n  }, [successMessage, errorMessage, dispatch, onClose]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    });\r\n  };\r\n\r\n  const validateForm = () => {\r\n    // Check required fields\r\n    if (!formData.coupon_name) {\r\n      toast.error(\"Vui lòng nhập tên mã giảm giá\");\r\n      return false;\r\n    }\r\n    if (!formData.coupon_code) {\r\n      toast.error(\"Vui lòng nhập mã giảm giá\");\r\n      return false;\r\n    }\r\n    if (!formData.discount_value) {\r\n      toast.error(\"Vui lòng nhập giá trị giảm\");\r\n      return false;\r\n    }\r\n    if (parseFloat(formData.discount_value) <= 0) {\r\n      toast.error(\"Giá trị giảm phải lớn hơn 0\");\r\n      return false;\r\n    }\r\n    if (!formData.start_date) {\r\n      toast.error(\"Vui lòng chọn ngày bắt đầu\");\r\n      return false;\r\n    }\r\n    if (!formData.end_date) {\r\n      toast.error(\"Vui lòng chọn ngày kết thúc\");\r\n      return false;\r\n    }\r\n\r\n    // Check start and end dates\r\n    const startDate = new Date(formData.start_date);\r\n    const endDate = new Date(formData.end_date);\r\n    const currentDate = new Date();\r\n\r\n    if (startDate < currentDate) {\r\n      toast.error(\"Ngày bắt đầu phải từ ngày hiện tại trở đi\");\r\n      return false;\r\n    }\r\n    if (endDate <= startDate) {\r\n      toast.error(\"Ngày kết thúc phải sau ngày bắt đầu\");\r\n      return false;\r\n    }\r\n\r\n    // Check numeric values\r\n    // Kiểm tra giảm tối đa (max_discount_amount)\r\n    if (formData.max_discount_amount) {\r\n      const maxDiscount = Number(formData.max_discount_amount);\r\n      if (maxDiscount <= 1000) {\r\n        toast.error(\"Giá trị giảm tối đa phải lớn hơn 1000\");\r\n        return false;\r\n      }\r\n      if (maxDiscount % 1000 !== 0) {\r\n        // Gợi ý 2 giá trị gần nhất\r\n        const lower = Math.floor(maxDiscount / 1000) * 1000;\r\n        const higher = lower + 1000;\r\n        toast.error(\r\n          `Vui lòng nhập bội số của 1000. Hai giá trị gần nhất là ${lower.toLocaleString()} và ${higher.toLocaleString()}`\r\n        );\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // Kiểm tra giá trị đơn hàng tối thiểu (min_order_value)\r\n    if (formData.min_order_value) {\r\n      const minOrder = Number(formData.min_order_value);\r\n      if (minOrder <= 0) {\r\n        toast.error(\"Giá trị đơn hàng tối thiểu phải lớn hơn 0\");\r\n        return false;\r\n      }\r\n      if (minOrder % 1000 !== 0) {\r\n        const lower = Math.floor(minOrder / 1000) * 1000;\r\n        const higher = lower + 1000;\r\n        toast.error(\r\n          `Vui lòng nhập bội số của 1000. Hai giá trị gần nhất là ${lower.toLocaleString()} và ${higher.toLocaleString()}`\r\n        );\r\n        return false;\r\n      }\r\n    }\r\n    if (\r\n      formData.max_uses_per_user &&\r\n      parseInt(formData.max_uses_per_user) <= 0\r\n    ) {\r\n      toast.error(\"Số lần sử dụng tối đa phải lớn hơn 0\");\r\n      return false;\r\n    }\r\n\r\n    // Check percentage value\r\n    if (\r\n      formData.discount_type === \"PERCENTAGE\" &&\r\n      parseFloat(formData.discount_value) > 100\r\n    ) {\r\n      toast.error(\"Giá trị phần trăm giảm không được vượt quá 100%\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    const token = localStorage.getItem(\"userToken\");\r\n    const adminId = userInfo?.user_id || localStorage.getItem(\"adminId\");\r\n\r\n    if (!token || !adminId) {\r\n      toast.error(\"Bạn cần đăng nhập lại để thực hiện chức năng này\");\r\n      return;\r\n    }\r\n\r\n    const body = {\r\n      ...formData,\r\n      discount_value: parseFloat(formData.discount_value),\r\n      max_discount_amount: formData.max_discount_amount\r\n        ? parseFloat(formData.max_discount_amount)\r\n        : undefined,\r\n      min_order_value: formData.min_order_value\r\n        ? parseFloat(formData.min_order_value)\r\n        : undefined,\r\n      max_uses_per_user: formData.max_uses_per_user\r\n        ? parseInt(formData.max_uses_per_user)\r\n        : undefined,\r\n    };\r\n\r\n    if (isEditing) {\r\n      dispatch(edit_coupon({ body }));\r\n    } else {\r\n      dispatch(create_coupon({ body }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg\">\r\n      <h2 className=\"text-2xl font-semibold mb-6 text-gray-800 border-b pb-3 sticky top-0 bg-white z-10\">\r\n        {isEditing ? \"Chỉnh sửa mã giảm giá\" : \"Tạo mã giảm giá mới\"}\r\n      </h2>\r\n\r\n      <form onSubmit={handleSubmit} className=\"px-1\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          {/* Tên mã giảm giá */}\r\n          <div className=\"space-y-1.5\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"coupon_name\"\r\n            >\r\n              Tên mã giảm giá <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"coupon_name\"\r\n              name=\"coupon_name\"\r\n              value={formData.coupon_name}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              placeholder=\"Nhập tên mã giảm giá\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Mã giảm giá */}\r\n          <div className=\"space-y-2\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"coupon_code\"\r\n            >\r\n              Mã giảm giá <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"coupon_code\"\r\n              name=\"coupon_code\"\r\n              value={formData.coupon_code}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              placeholder=\"Ví dụ: SUMMER2023\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Loại giảm giá */}\r\n          <div className=\"space-y-2\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"discount_type\"\r\n            >\r\n              Loại giảm giá <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <select\r\n              id=\"discount_type\"\r\n              name=\"discount_type\"\r\n              value={formData.discount_type}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              required\r\n            >\r\n              <option value=\"PERCENTAGE\">Phần trăm (%)</option>\r\n              <option value=\"FIXED_AMOUNT\">Số tiền cố định (VNĐ)</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Giá trị giảm */}\r\n          <div className=\"space-y-2\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"discount_value\"\r\n            >\r\n              Giá trị giảm <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"discount_value\"\r\n              name=\"discount_value\"\r\n              value={formData.discount_value}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              placeholder={\r\n                formData.discount_type === \"PERCENTAGE\"\r\n                  ? \"Nhập % giảm giá\"\r\n                  : \"Nhập số tiền giảm\"\r\n              }\r\n              min=\"0\"\r\n              step={formData.discount_type === \"PERCENTAGE\" ? \"0.1\" : \"1000\"}\r\n              required\r\n            />\r\n            <span className=\"text-sm text-gray-500\">\r\n              {formData.discount_type === \"PERCENTAGE\"\r\n                ? \"Giá trị từ 0-100%\"\r\n                : \"Số tiền (VNĐ)\"}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Giảm tối đa */}\r\n          {formData.discount_type === \"PERCENTAGE\" && (\r\n            <div className=\"space-y-2\">\r\n              <label\r\n                className=\"block text-gray-700 text-lg font-semibold\"\r\n                htmlFor=\"max_discount_amount\"\r\n              >\r\n                Giảm tối đa (VNĐ)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"max_discount_amount\"\r\n                name=\"max_discount_amount\"\r\n                value={formData.max_discount_amount}\r\n                onChange={handleChange}\r\n                className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n                placeholder=\"Nhập số tiền giảm tối đa\"\r\n                min=\"0\"\r\n                step=\"1000\"\r\n              />\r\n              <span className=\"text-sm text-gray-500\">\r\n                Để trống nếu không giới hạn\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Giá trị đơn hàng tối thiểu */}\r\n          <div className=\"space-y-2\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"min_order_value\"\r\n            >\r\n              Giá trị đơn hàng tối thiểu (VNĐ)\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"min_order_value\"\r\n              name=\"min_order_value\"\r\n              value={formData.min_order_value}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              placeholder=\"Nhập giá trị đơn hàng tối thiểu\"\r\n              min=\"0\"\r\n              step=\"1000\"\r\n            />\r\n            <span className=\"text-sm text-gray-500\">\r\n              Để trống nếu không yêu cầu tối thiểu\r\n            </span>\r\n          </div>\r\n\r\n          {/* Số lần sử dụng tối đa */}\r\n          <div className=\"space-y-2\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"max_uses_per_user\"\r\n            >\r\n              Số lần sử dụng tối đa\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"max_uses_per_user\"\r\n              name=\"max_uses_per_user\"\r\n              value={formData.max_uses_per_user}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              placeholder=\"Nhập số lần sử dụng tối đa\"\r\n              min=\"1\"\r\n              step=\"1\"\r\n            />\r\n            <span className=\"text-sm text-gray-500\">\r\n              Để trống nếu không giới hạn\r\n            </span>\r\n          </div>\r\n\r\n          {/* Loại mã */}\r\n          <div className=\"space-y-2\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"coupon_type\"\r\n            >\r\n              Loại mã <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <select\r\n              id=\"coupon_type\"\r\n              name=\"coupon_type\"\r\n              value={formData.coupon_type}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              required\r\n            >\r\n              <option value=\"ONE_TIME\">Sử dụng một lần</option>\r\n              <option value=\"ONE_TIME_EVERY_DAY\">\r\n                Sử dụng mỗi ngày một lần\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Ngày bắt đầu */}\r\n          <div className=\"space-y-2\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"start_date\"\r\n            >\r\n              Ngày bắt đầu <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"datetime-local\"\r\n              id=\"start_date\"\r\n              name=\"start_date\"\r\n              value={formData.start_date}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Ngày kết thúc */}\r\n          <div className=\"space-y-2\">\r\n            <label\r\n              className=\"block text-gray-700 text-lg font-semibold\"\r\n              htmlFor=\"end_date\"\r\n            >\r\n              Ngày kết thúc <span className=\"text-red-500\">*</span>\r\n            </label>\r\n            <input\r\n              type=\"datetime-local\"\r\n              id=\"end_date\"\r\n              name=\"end_date\"\r\n              value={formData.end_date}\r\n              onChange={handleChange}\r\n              className=\"w-full px-3 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition duration-200\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Trạng thái kích hoạt */}\r\n        <div className=\"mt-4\">\r\n          <label className=\"flex items-center space-x-2 cursor-pointer group\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"is_active\"\r\n              checked={formData.is_active}\r\n              onChange={handleChange}\r\n              className=\"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-400 transition duration-200\"\r\n            />\r\n            <span className=\"text-gray-700 text-base font-semibold group-hover:text-orange-600 transition duration-200\">\r\n              Kích hoạt ngay\r\n            </span>\r\n          </label>\r\n        </div>\r\n\r\n        {/* Nút tạo mã */}\r\n        <div className=\"flex justify-end mt-6 border-t pt-4\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 mr-3\"\r\n          >\r\n            Hủy\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loader}\r\n            className=\"px-6 py-2 bg-orange-500 text-white font-medium rounded-lg \r\n                     hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-400 \r\n                     focus:ring-offset-2 transition duration-200\r\n                     disabled:opacity-70 disabled:cursor-not-allowed\r\n                     flex items-center justify-center gap-2\"\r\n          >\r\n            {loader ? (\r\n              <>\r\n                <svg\r\n                  className=\"animate-spin h-5 w-5 text-white\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <circle\r\n                    className=\"opacity-25\"\r\n                    cx=\"12\"\r\n                    cy=\"12\"\r\n                    r=\"10\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"4\"\r\n                  ></circle>\r\n                  <path\r\n                    className=\"opacity-75\"\r\n                    fill=\"currentColor\"\r\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                  ></path>\r\n                </svg>\r\n                Đang xử lý...\r\n              </>\r\n            ) : isEditing ? (\r\n              \"Cập nhật mã giảm giá\"\r\n            ) : (\r\n              \"Tạo mã giảm giá\"\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Coupon;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { get_coupons } from \"../store/reducers/couponReducer\";\r\nimport { FiPlus } from \"react-icons/fi\";\r\nimport moment from \"moment\";\r\nimport Coupon from \"./Coupon\";\r\nimport { checkCouponStatus } from \"../utils/utils\";\r\nimport Search from \"../components/Search\";\r\nimport Pagination from \"../components/Pagination\";\r\n\r\nconst CouponList = () => {\r\n  const dispatch = useDispatch();\r\n  const { coupons, loader } = useSelector((state) => state.coupon);\r\n\r\n  // State cho modal, search, phân trang\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [editingCoupon, setEditingCoupon] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [parPage, setParPage] = useState(5);\r\n\r\n  // Lấy danh sách coupon khi load trang\r\n  useEffect(() => {\r\n    dispatch(get_coupons());\r\n  }, [dispatch]);\r\n\r\n  // Reset về trang 1 khi search hoặc đổi số lượng/trang\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [searchTerm, parPage]);\r\n\r\n  // Lọc coupon theo search term\r\n  const filteredCoupons = coupons?.filter(\r\n    (coupon) =>\r\n      coupon.coupon_code.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      coupon.coupon_name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Phân trang client\r\n  const totalCoupons = filteredCoupons.length;\r\n  const indexOfLastCoupon = currentPage * parPage;\r\n  const indexOfFirstCoupon = indexOfLastCoupon - parPage;\r\n  const currentCoupons = filteredCoupons.slice(indexOfFirstCoupon, indexOfLastCoupon);\r\n\r\n  // Xử lý modal\r\n  const handleCloseModal = () => {\r\n    setIsModalOpen(false);\r\n    setEditingCoupon(null);\r\n  };\r\n\r\n  const handleEdit = (coupon) => {\r\n    setEditingCoupon(coupon);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"px-2 lg:px-7 pt-5\">\r\n      <h1 className=\"text-[#000000] font-semibold text-4xl mb-3\">Mã Giảm Giá</h1>\r\n\r\n      <div className='flex justify-between items-center'>\r\n          {/* Search + chọn số lượng/trang */}\r\n          <div className=\"mb-4 flex items-center gap-4\">\r\n            <Search\r\n              setParPage={setParPage}\r\n              setSearchValue={setSearchTerm}\r\n              searchValue={searchTerm}\r\n              placeholder=\"Tìm kiếm mã giảm giá...\"\r\n            />\r\n          </div>\r\n\r\n          {/* Nút thêm coupon */}\r\n          <div className=\"flex flex-wrap justify-between items-center mb-6 gap-4\">\r\n            <button\r\n              onClick={() => setIsModalOpen(true)}\r\n              className=\"flex items-center gap-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-all\"\r\n            >\r\n              <FiPlus className=\"text-xl\" />\r\n              <span>Thêm Mã Giảm Giá</span>\r\n            </button>\r\n          </div>\r\n      </div>\r\n\r\n      {/* Bảng hiển thị */}\r\n      <div className=\"relative overflow-x-auto mt-5\">\r\n        {loader ? (\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full mx-auto\"></div>\r\n          </div>\r\n        ) : (\r\n          <table className=\"w-full text-base text-left text-gray-700 bg-white\">\r\n            <thead className=\"text-sm text-gray-700 uppercase bg-gray-100 border-b\">\r\n              <tr>\r\n                <th className=\"py-3 px-4\">Tên mã</th>\r\n                <th className=\"py-3 px-4\">Mã giảm giá</th>\r\n                <th className=\"py-3 px-4\">Loại</th>\r\n                <th className=\"py-3 px-4\">Giá trị</th>\r\n                <th className=\"py-3 px-4\">Thời gian</th>\r\n                <th className=\"py-3 px-4\">Trạng thái</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {currentCoupons.map((coupon) => (\r\n                <tr\r\n                  key={coupon.id}\r\n                  className=\"bg-white border-b hover:bg-blue-200 cursor-pointer transition\"\r\n                  onClick={() => handleEdit(coupon)}\r\n                >\r\n                  <td className=\"py-2 px-4 font-medium text-xl\">{coupon.coupon_name}</td>\r\n                  <td className=\"py-2 px-4 font-medium text-xl\">{coupon.coupon_code}</td>\r\n                  <td className=\"py-2 px-4 font-medium text-xl\">\r\n                    {coupon.discount_type === \"PERCENTAGE\" ? \"Phần trăm\" : \"Số tiền\"}\r\n                  </td>\r\n                  <td className=\"py-2 px-4 font-medium text-xl\">\r\n                    {coupon.discount_type === \"PERCENTAGE\"\r\n                      ? `${coupon.discount_value}%`\r\n                      : `${Number(coupon.discount_value).toLocaleString()}đ`}\r\n                  </td>\r\n                  <td className=\"py-2 px-4 font-medium text-sm\">\r\n                    <p>Từ: {moment(coupon.start_date).format(\"DD/MM/YYYY HH:mm\")}</p>\r\n                    <p>Đến: {moment(coupon.end_date).format(\"DD/MM/YYYY HH:mm\")}</p>\r\n                  </td>\r\n                  <td className=\"py-2 px-4 font-medium text-xl\">\r\n                    <span className={`px-2 py-1 rounded-full text-sm ${checkCouponStatus(coupon.start_date, coupon.end_date, coupon.is_active).className}`}>\r\n                      {checkCouponStatus(coupon.start_date, coupon.end_date, coupon.is_active).text}\r\n                    </span>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      <div className=\"w-full flex justify-end mt-4 bottom-4 right-4\">\r\n        <Pagination\r\n          pageNumber={currentPage}\r\n          setPageNumber={setCurrentPage}\r\n          totalItem={totalCoupons}\r\n          parPage={parPage}\r\n          showItem={3}\r\n        />\r\n      </div>\r\n\r\n      {/* Modal thêm/chỉnh sửa coupon */}\r\n      {isModalOpen && (\r\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"></div>\r\n          <div className=\"flex items-center justify-center min-h-screen p-4\">\r\n            <div className=\"relative bg-white rounded-lg shadow-xl max-w-4xl w-full mx-auto\">\r\n              <div className=\"flex justify-end p-2\">\r\n                <button\r\n                  onClick={handleCloseModal}\r\n                  className=\"text-gray-400 hover:text-gray-500 focus:outline-none\"\r\n                >\r\n                  <span className=\"sr-only\">Đóng</span>\r\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n              <div className=\"p-6\">\r\n                <Coupon\r\n                  onClose={handleCloseModal}\r\n                  onSuccess={() => {\r\n                    dispatch(get_coupons());\r\n                    handleCloseModal();\r\n                  }}\r\n                  editData={editingCoupon}\r\n                  isEditing={!!editingCoupon}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CouponList;\r\n","export const checkCouponStatus = (startDate, endDate, isActive) => {\r\n  const now = new Date();\r\n  const start = new Date(startDate);\r\n  const end = new Date(endDate);\r\n\r\n  if (!isActive)\r\n    return {\r\n      status: \"inactive\",\r\n      text: \"Đã khóa\",\r\n      className: \"bg-red-100 text-red-800\",\r\n    };\r\n\r\n  if (now < start) {\r\n    return {\r\n      status: \"pending\",\r\n      text: \"Chưa bắt đầu\",\r\n      className: \"bg-yellow-100 text-yellow-800\",\r\n    };\r\n  }\r\n\r\n  if (now > end) {\r\n    return {\r\n      status: \"expired\",\r\n      text: \"Đã hết hạn\",\r\n      className: \"bg-red-100 text-red-800\",\r\n    };\r\n  }\r\n\r\n  return {\r\n    status: \"active\",\r\n    text: \"Đang hoạt động\",\r\n    className: \"bg-green-100 text-green-800\",\r\n  };\r\n};\r\n\r\n/* Calculate daily revenue from orders\r\n * @param {Array} orders - Array of orders\r\n * @param {Date} date - Date to calculate revenue for\r\n * @returns {Object} Revenue details\r\n */\r\nexport const calculateDailyRevenue = (orders, date = new Date()) => {\r\n  // Convert input date to start and end of day\r\n  const startOfDay = new Date(date);\r\n  startOfDay.setHours(0, 0, 0, 0);\r\n  const endOfDay = new Date(date);\r\n  endOfDay.setHours(23, 59, 59, 999);\r\n\r\n  // Filter orders for the specified date\r\n  const dailyOrders = orders.filter((order) => {\r\n    const orderDate = new Date(order.order_date);\r\n    return orderDate >= startOfDay && orderDate <= endOfDay;\r\n  });\r\n\r\n  // Calculate totals\r\n  const revenue = dailyOrders.reduce((total, order) => {\r\n    // Only count completed orders\r\n    if (order.order_status === \"ORDER_CONFIRMED\") {\r\n      const orderTotal =\r\n        parseFloat(order.price) + parseFloat(order.delivery_fee);\r\n      return total + orderTotal;\r\n    }\r\n    return total;\r\n  }, 0);\r\n\r\n  return {\r\n    totalRevenue: revenue,\r\n    orderCount: dailyOrders.length,\r\n    completedOrders: dailyOrders.filter(\r\n      (order) => order.order_status === \"ORDER_CONFIRMED\"\r\n    ).length,\r\n    canceledOrders: dailyOrders.filter(\r\n      (order) => order.order_status === \"ORDER_CANCELED\"\r\n    ).length,\r\n    averageOrderValue:\r\n      dailyOrders.length > 0 ? revenue / dailyOrders.length : 0,\r\n  };\r\n};\r\nexport const formatCurrency = (amount) => {\r\n  return new Intl.NumberFormat(\"vi-VN\", {\r\n    style: \"currency\",\r\n    currency: \"VND\",\r\n  }).format(amount);\r\n};\r\n/**\r\n * Calculate revenue array for the last 12 months\r\n * @param {Array} orders - Array of orders\r\n * @returns {Array} Array of monthly revenue data\r\n */\r\nexport const getMonthlyRevenueArray = (orders) => {\r\n  const months = [];\r\n  const today = new Date();\r\n\r\n  // Get last 12 months\r\n  for (let i = 11; i >= 0; i--) {\r\n    const date = new Date(today.getFullYear(), today.getMonth() - i, 1);\r\n    const startOfMonth = new Date(date.getFullYear(), date.getMonth(), 1);\r\n    const endOfMonth = new Date(\r\n      date.getFullYear(),\r\n      date.getMonth() + 1,\r\n      0,\r\n      23,\r\n      59,\r\n      59,\r\n      999\r\n    );\r\n\r\n    // Filter orders for this month\r\n    const monthlyOrders = orders.filter((order) => {\r\n      const orderDate = new Date(order.order_date);\r\n      return orderDate >= startOfMonth && orderDate <= endOfMonth;\r\n    });\r\n\r\n    // Calculate revenue for confirmed orders\r\n    const revenue = monthlyOrders.reduce((total, order) => {\r\n      if (order.order_status === \"ORDER_CONFIRMED\") {\r\n        return total + parseFloat(order.price);\r\n      }\r\n      return total;\r\n    }, 0);\r\n\r\n    months.push({\r\n      month: date.toLocaleString(\"vi-VN\", { month: \"long\" }),\r\n      shortMonth: date.toLocaleString(\"vi-VN\", { month: \"short\" }),\r\n      year: date.getFullYear(),\r\n      revenue: revenue,\r\n      formattedRevenue: formatCurrency(revenue),\r\n      orderCount: monthlyOrders.length,\r\n      completedOrders: monthlyOrders.filter(\r\n        (o) => o.order_status === \"ORDER_CONFIRMED\"\r\n      ).length,\r\n    });\r\n  }\r\n\r\n  return months;\r\n};\r\n"],"names":["_ref","pageNumber","setPageNumber","totalItem","parPage","showItem","totalPage","Math","ceil","startPage","max","floor","endPage","min","_jsxs","className","children","_jsx","onClick","MdOutlineKeyboardDoubleArrowLeft","createBtn","btns","i","push","concat","MdOutlineKeyboardDoubleArrowRight","setParPage","setSearchValue","searchValue","onChange","e","parseInt","target","value","formatDateTimeForInput","dateString","date","Date","offset","getTimezoneOffset","getTime","toISOString","slice","onClose","editData","isEditing","dispatch","useDispatch","loader","errorMessage","successMessage","useSelector","state","coupon","userInfo","auth","formData","setFormData","useState","coupon_name","coupon_code","discount_value","discount_type","max_discount_amount","min_order_value","max_uses_per_user","start_date","end_date","is_active","coupon_type","useEffect","toast","success","messageClear","error","_objectSpread","handleChange","name","type","checked","onSubmit","preventDefault","validateForm","parseFloat","startDate","endDate","maxDiscount","Number","lower","higher","toLocaleString","minOrder","token","localStorage","getItem","adminId","user_id","body","undefined","edit_coupon","create_coupon","htmlFor","id","placeholder","required","step","disabled","_Fragment","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","CouponList","coupons","isModalOpen","setIsModalOpen","editingCoupon","setEditingCoupon","currentPage","setCurrentPage","searchTerm","setSearchTerm","get_coupons","filteredCoupons","filter","toLowerCase","includes","totalCoupons","length","indexOfLastCoupon","indexOfFirstCoupon","currentCoupons","handleCloseModal","Search","FiPlus","map","handleEdit","moment","format","checkCouponStatus","text","Pagination","strokeLinecap","strokeLinejoin","Coupon","onSuccess","isActive","now","start","end","status","calculateDailyRevenue","orders","arguments","startOfDay","setHours","endOfDay","dailyOrders","order","orderDate","order_date","revenue","reduce","total","order_status","price","delivery_fee","totalRevenue","orderCount","completedOrders","canceledOrders","averageOrderValue","formatCurrency","amount","Intl","NumberFormat","style","currency","getMonthlyRevenueArray","months","today","getFullYear","getMonth","startOfMonth","endOfMonth","monthlyOrders","month","shortMonth","year","formattedRevenue","o"],"sourceRoot":""}