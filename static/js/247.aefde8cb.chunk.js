"use strict";(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[247],{1247:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var l=t(9379),r=t(5043),a=t(3003),n=t(9871),d=t(5369),o=t(3768),i=t(579);const c=()=>{const e=(0,a.wA)(),s=(0,r.useRef)(null),{restaurant:t,successMessage:c,errorMessage:x,loader:u}=(0,a.d4)((e=>e.restaurant)),[m,b]=(0,r.useState)(!1),[g,h]=(0,r.useState)({}),[p,f]=(0,r.useState)(null);(0,r.useEffect)((()=>{e((0,n.Tp)(1)),(0,n.Tn)()}),[e]),(0,r.useEffect)((()=>{t&&(h(t),f(t.image||null))}),[t]),(0,r.useEffect)((()=>{c&&setTimeout((()=>{e((0,n.Tn)())}),3e3),x&&setTimeout((()=>{e((0,n.Tn)())}),3e3)}),[c,x,e]);const N=e=>{const{name:s,value:t}=e.target;h((e=>(0,l.A)((0,l.A)({},e),{},{[s]:t})))},j=async()=>{let s=g.image;g.imageFile;const t={name:g.name,image:s,address:g.address,opening_hours:g.opening_hours,phone_number:g.phone_number,description:g.description};try{await e((0,n.H8)(t)).unwrap(),o.Ay.success("Details updated successfully!"),b(!1),(0,n.Tn)()}catch(l){o.Ay.error(l||"Failed to update details."),(0,n.Tn)()}};return u?(0,i.jsx)("div",{className:"text-center py-5",children:"Loading..."}):(0,i.jsx)("div",{className:"max-w-4xl w-full bg-white rounded-xl shadow-md p-10 mt-8 ml-0",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center md:w-1/4 w-full relative",children:[p?(0,i.jsx)("img",{src:p,alt:g.name,className:"w-36 h-36 rounded-full border-4 border-blue-400 shadow object-cover"}):(0,i.jsx)("div",{className:"w-36 h-36 flex items-center justify-center rounded-full bg-gray-100 border-4 border-blue-400 text-gray-400 text-4xl font-bold shadow",children:"N/A"}),m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{type:"button",onClick:()=>{s.current&&s.current.click()},className:"absolute bottom-2 right-2 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition",title:"Change Image",children:"\u0110\u1ed5i \u1ea3nh"}),(0,i.jsx)("input",{type:"file",accept:"image/*",ref:s,onChange:e=>{const s=e.target.files[0];if(s){const e=URL.createObjectURL(s);f(e),h((t=>(0,l.A)((0,l.A)({},t),{},{image:e,imageFile:s})))}},className:"hidden"})]}),(0,i.jsx)("div",{className:"mt-4 text-xl font-bold text-blue-700",children:g.name||"Restaurant Name"}),(0,i.jsx)("div",{className:"text-base text-gray-500",children:g.status||"Active"}),!m&&(0,i.jsxs)("button",{onClick:()=>b(!0),className:"mt-5 px-5 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700 text-lg font-semibold transition",children:["Edit Profile ",(0,i.jsx)(d.wwX,{className:"inline ml-2"})]})]}),(0,i.jsx)("div",{className:"flex-1 w-full",children:(0,i.jsxs)("form",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[(0,i.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,i.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Name"}),m?(0,i.jsx)("input",{type:"text",name:"name",value:g.name||"",onChange:N,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900"}):(0,i.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900",children:g.name||"N/A"})]}),(0,i.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,i.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Phone"}),m?(0,i.jsx)("input",{type:"text",name:"phone_number",value:g.phone_number||"",onChange:N,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900"}):(0,i.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900",children:g.phone_number||"N/A"})]})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[(0,i.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,i.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Address"}),m?(0,i.jsx)("input",{type:"text",name:"address",value:g.address||"",onChange:N,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900"}):(0,i.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900",children:g.address||"N/A"})]}),(0,i.jsxs)("div",{className:"flex-1 flex items-center",children:[(0,i.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Opening Hours"}),m?(0,i.jsx)("input",{type:"text",name:"opening_hours",value:g.opening_hours||"",onChange:N,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900"}):(0,i.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900",children:g.opening_hours||"N/A"})]})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("label",{className:"w-36 text-blue-700 font-semibold text-lg mr-3",children:"Description"}),m?(0,i.jsx)("textarea",{name:"description",value:g.description||"",onChange:N,className:"flex-1 border-2 border-blue-400 rounded-lg px-4 py-3 text-lg focus:outline-none focus:border-blue-500 bg-white text-gray-900",rows:3}):(0,i.jsx)("div",{className:"flex-1 font-bold text-xl text-gray-900 whitespace-pre-line",children:g.description||"N/A"})]}),m&&(0,i.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,i.jsx)("button",{type:"button",onClick:()=>b(!1),className:"px-8 py-3 rounded bg-gray-100 border border-gray-300 text-gray-700 font-semibold text-lg hover:bg-gray-200 transition",children:"Cancel"}),(0,i.jsx)("button",{type:"button",onClick:j,disabled:u,className:"px-8 py-3 rounded font-semibold text-lg text-white transition\n                    ".concat(u?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:u?"Saving...":"Save Changes"})]})]})}),(0,i.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-medium",children:"Address:"}),m?(0,i.jsx)("input",{type:"text",name:"address",value:g.address||"",onChange:N,className:"w-full border border-dashed border-gray-300 rounded-md p-2"}):(0,i.jsx)("p",{className:"text-gray-800",children:g.address||"N/A"})]}),(0,i.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-medium",children:"Status:"}),(0,i.jsx)("p",{className:"text-gray-800",children:g.status||"N/A"})]}),(0,i.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-medium",children:"Opening Hours:"}),m?(0,i.jsx)("input",{type:"text",name:"opening_hours",value:g.opening_hours||"",onChange:N,className:"w-full border border-dashed border-gray-300 rounded-md p-2"}):(0,i.jsx)("p",{className:"text-gray-800",children:g.opening_hours||"N/A"})]}),(0,i.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-medium",children:"Phone Number:"}),m?(0,i.jsx)("input",{type:"text",name:"phone_number",value:g.phone_number||"",onChange:N,className:"w-full border border-dashed border-gray-300 rounded-md p-2"}):(0,i.jsx)("p",{className:"text-gray-800",children:g.phone_number||"N/A"})]}),(0,i.jsxs)("div",{className:"border border-gray-300 rounded-md p-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 font-medium",children:"Description:"}),m?(0,i.jsx)("textarea",{name:"description",value:g.description||"",onChange:N,className:"w-full border border-dashed border-gray-300 rounded-md p-2"}):(0,i.jsx)("p",{className:"text-gray-800",children:g.description||"N/A"})]}),m?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-".concat(u?"2 bg-gray-":"2 bg-green-"),children:"Cancel"}),(0,i.jsx)("button",{onClick:j,disabled:u,className:"px-4 py-2 ".concat(u?"bg-green-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600"," text-white rounded-md transition"),children:u?"Saving...":"Save Changes"})]}):(0,i.jsxs)("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition",children:["Edit Details",(0,i.jsx)(d.wwX,{className:"inline ml-2"})]})]})})}}}]);
//# sourceMappingURL=247.aefde8cb.chunk.js.map