/*! For license information please see 154.fbfaf091.chunk.js.LICENSE.txt */
(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[154],{2154:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(5043),r=t(3003),n=t(3216),l=t(9871),d=t(3768),c=t(1009),i=t(5369),x=t(579);const h=e=>{let{products:s}=e;return(0,x.jsx)("div",{className:"space-y-6",children:s.map((e=>(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,x.jsx)("div",{className:"p-4 border-b",children:(0,x.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.category_name})}),(0,x.jsx)("div",{className:"p-4",children:(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.products.map((e=>(0,x.jsxs)("div",{className:"bg-white border rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("img",{src:e.image,alt:e.product_name,className:"w-full h-48 object-cover"}),1===e.is_flash_sale&&(0,x.jsxs)("span",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[(0,x.jsx)(i.wJQ,{size:12}),"Flash Sale"]})]}),(0,x.jsxs)("div",{className:"p-4",children:[(0,x.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:e.product_name}),(0,x.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.product_description}),(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("span",{className:"text-orange-500 font-medium",children:[e.product_price.toLocaleString(),"\u20ab"]}),1===e.is_flash_sale&&(0,x.jsxs)("span",{className:"text-sm text-gray-400 line-through ml-2",children:[e.original_price.toLocaleString(),"\u20ab"]})]}),(0,x.jsxs)("span",{className:"text-sm text-gray-500",children:["C\xf2n ",e.product_quantity," s\u1ea3n ph\u1ea9m"]})]})]})]},e.product_id)))})})]},e.category_id)))})};var m=t(9413),o=t(4089);const p=e=>{if(!e)return"";return new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},g=e=>{let{coupons:s}=e;return(0,x.jsxs)("div",{className:"overflow-x-auto bg-white shadow rounded-lg",children:[(0,x.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-800 px-4 pt-4",children:"Danh s\xe1ch m\xe3 gi\u1ea3m gi\xe1 c\u1ee7a nh\xe0 h\xe0ng"}),(0,x.jsxs)("table",{className:"w-full text-base text-gray-700",children:[(0,x.jsx)("thead",{className:"bg-gray-100 text-base uppercase border-b",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"ID"}),(0,x.jsx)("th",{className:"py-3 px-4 text-left",children:"T\xean m\xe3"}),(0,x.jsx)("th",{className:"py-3 px-4 text-left",children:"M\xe3 code"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"Gi\xe1 tr\u1ecb"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"Lo\u1ea1i gi\u1ea3m"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"Gi\u1ea3m t\u1ed1i \u0111a"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"\u0110\u01a1n t\u1ed1i thi\u1ec3u"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"S\u1ed1 l\u1ea7n/user"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"\u0110\xe3 d\xf9ng"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"Ng\xe0y b\u1eaft \u0111\u1ea7u"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"Ng\xe0y k\u1ebft th\xfac"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"K\xedch ho\u1ea1t"}),(0,x.jsx)("th",{className:"py-3 px-4 text-center",children:"Lo\u1ea1i m\xe3"})]})}),(0,x.jsx)("tbody",{children:s&&s.length>0?s.map((e=>{return(0,x.jsxs)("tr",{className:"bg-white border-b hover:bg-blue-100 cursor-pointer transition",children:[(0,x.jsx)("td",{className:"py-2 px-4 text-center font-medium",children:e.id}),(0,x.jsx)("td",{className:"py-2 px-4 text-left",children:e.coupon_name}),(0,x.jsx)("td",{className:"py-2 px-4 text-left",children:e.coupon_code}),(0,x.jsx)("td",{className:"py-2 px-4 text-center",children:"PERCENTAGE"===e.discount_type?`${e.discount_value}%`:`${Number(e.discount_value).toLocaleString()}\u0111`}),(0,x.jsx)("td",{className:"py-2 px-4 text-center",children:"PERCENTAGE"===e.discount_type?"Ph\u1ea7n tr\u0103m":"S\u1ed1 ti\u1ec1n"}),(0,x.jsxs)("td",{className:"py-2 px-4 text-center",children:[Number(e.max_discount_amount).toLocaleString(),"\u0111"]}),(0,x.jsxs)("td",{className:"py-2 px-4 text-center",children:[Number(e.min_order_value).toLocaleString(),"\u0111"]}),(0,x.jsx)("td",{className:"py-2 px-4 text-center",children:e.max_uses_per_user}),(0,x.jsx)("td",{className:"py-2 px-4 text-center",children:e.current_uses}),(0,x.jsx)("td",{className:"py-2 px-4 text-center",children:p(e.start_date)}),(0,x.jsx)("td",{className:"py-2 px-4 text-center",children:p(e.end_date)}),(0,x.jsx)("td",{className:"py-2 px-4 text-center",children:e.is_active?(0,x.jsx)("span",{className:"text-green-600 font-semibold",children:"\u0110ang b\u1eadt"}):(0,x.jsx)("span",{className:"text-gray-400",children:"T\u1eaft"})}),(0,x.jsx)("td",{className:"py-2 px-4 text-center",children:(s=e.coupon_type,{ONE_TIME:"S\u1eed d\u1ee5ng m\u1ed9t l\u1ea7n",ONE_TIME_EVERY_DAY:"S\u1eed d\u1ee5ng m\u1ed7i ng\xe0y m\u1ed9t l\u1ea7n"}[s]||s)})]},e.id);var s})):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:13,className:"text-center py-4 text-gray-500",children:"Kh\xf4ng c\xf3 m\xe3 gi\u1ea3m gi\xe1 n\xe0o cho nh\xe0 h\xe0ng n\xe0y."})})})]})]})},u=()=>{const e=(0,r.wA)(),s=(0,n.Zp)(),{restaurant:t,products:i,order:p,reviews:u,coupons:j,successMessage:y,errorMessage:N,loader:b}=(0,r.d4)((e=>e.restaurant)),{restaurantId:f}=(0,n.g)(),[v,_]=(0,a.useState)("info");(0,a.useEffect)((()=>{f&&(console.log("Dispatching get_restaurant with ID:",f),e((0,l.dh)(f)))}),[e,f]),(0,a.useEffect)((()=>{"products"===v&&f&&e((0,l.ig)({restaurantId:f}))}),[v,f]),(0,a.useEffect)((()=>{"orders"===v&&f&&e((0,l.Uk)(f))}),[v,f,e]),(0,a.useEffect)((()=>{f&&e((0,l.nZ)(f))}),[e,f]),(0,a.useEffect)((()=>{e((0,l.ig)({restaurantId:f}))}),[e]),(0,a.useEffect)((()=>{"coupons"===v&&f&&e((0,l.HR)({restaurant_id:f}))}),[v,f,e]);const[w,T]=(0,a.useState)("");(0,a.useEffect)((()=>{y&&(d.Ay.success(y),e((0,l.Tn)())),N&&(d.Ay.error(N),e((0,l.Tn)()))}),[y,N,e]),(0,a.useEffect)((()=>{null!==t&&void 0!==t&&t.status&&(console.log("C\u1eadp nh\u1eadt status:",t.status),T(t.status))}),[t]);return(0,a.useEffect)((()=>()=>{const s=JSON.parse(sessionStorage.getItem("restaurantListParams")||"{}");e((0,l.ue)(s))}),[]),(0,x.jsx)("div",{className:"px-2 lg:px-7 pt-5",children:(0,x.jsxs)("div",{className:"w-full p-4 bg-white rounded-lg shadow",children:[(0,x.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,x.jsx)("button",{onClick:()=>{s(-1)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,x.jsx)(c.kRp,{className:"text-xl"})}),(0,x.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Chi ti\u1ebft nh\xe0 h\xe0ng"})]}),(0,x.jsxs)("div",{className:"flex border-b mb-4",children:[(0,x.jsx)("button",{onClick:()=>_("info"),className:"px-4 py-2 "+("info"===v?"border-b-2 border-orange-500 text-orange-600":"text-gray-600"),children:"Th\xf4ng tin"}),(0,x.jsx)("button",{onClick:()=>_("products"),className:"px-4 py-2 "+("products"===v?"border-b-2 border-orange-500 text-orange-600":"text-gray-600"),children:"S\u1ea3n ph\u1ea9m"}),(0,x.jsx)("button",{onClick:()=>_("orders"),className:"px-4 py-2 "+("orders"===v?"border-b-2 border-orange-500 text-orange-600":"text-gray-600"),children:"\u0110\u01a1n h\xe0ng"}),(0,x.jsx)("button",{onClick:()=>_("coupons"),className:"px-4 py-2 "+("coupons"===v?"border-b-2 border-orange-500 text-orange-600":"text-gray-600"),children:"M\xe3 gi\u1ea3m gi\xe1"})]}),"info"===v?(0,x.jsxs)(x.Fragment,{children:[b&&(0,x.jsx)("div",{className:"flex justify-center py-4",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-3 border-orange-500 border-t-transparent"})}),!b&&t&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"w-full flex flex-col md:flex-row gap-4",children:[(0,x.jsxs)("div",{className:"md:w-1/4",children:[null!==t&&void 0!==t&&t.image?(0,x.jsx)("img",{className:"w-full h-auto rounded-lg shadow-sm",src:t.image,alt:t.name}):(0,x.jsx)("div",{className:"w-full h-[200px] bg-gray-100 rounded-lg flex items-center justify-center",children:(0,x.jsx)("span",{className:"text-gray-400",children:"Ch\u01b0a c\xf3 \u1ea3nh"})}),(0,x.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i"}),(0,x.jsxs)("form",{onSubmit:s=>{s.preventDefault(),f?w!==t.status?e((0,l.wv)({resID:f})).then((()=>{d.Ay.success("C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i th\xe0nh c\xf4ng!")})).catch((()=>{d.Ay.error("C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i.")})):d.Ay.error("Nh\xe0 h\xe0ng \u0111ang \u1edf tr\u1ea1ng th\xe1i n\xe0y."):d.Ay.error("Kh\xf4ng t\xecm th\u1ea5y ID nh\xe0 h\xe0ng.")},className:"flex gap-3",children:[(0,x.jsxs)("select",{value:w,onChange:e=>T(e.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:ring-1 focus:ring-orange-500 text-sm",required:!0,children:[(0,x.jsx)("option",{value:"",children:"Ch\u1ecdn tr\u1ea1ng th\xe1i"}),(0,x.jsx)("option",{value:"active",children:"Ho\u1ea1t \u0111\u1ed9ng"}),(0,x.jsx)("option",{value:"pending",children:"Ch\u1edd duy\u1ec7t"})]}),(0,x.jsx)("button",{type:"submit",className:"px-4 py-1.5 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors text-sm",children:"C\u1eadp nh\u1eadt"})]})]})]}),(0,x.jsxs)("div",{className:"md:w-3/4 space-y-4",children:[(0,x.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"Th\xf4ng tin c\u01a1 b\u1ea3n"}),(0,x.jsxs)("div",{className:"grid gap-3",children:[(0,x.jsxs)("div",{className:"flex gap-3",children:[(0,x.jsx)("span",{className:"font-medium text-gray-600 w-28",children:"T\xean:"}),(0,x.jsx)("span",{children:(null===t||void 0===t?void 0:t.name)||"N/A"})]}),(0,x.jsxs)("div",{className:"flex gap-4",children:[(0,x.jsx)("span",{className:"font-medium text-gray-600 w-32",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"}),(0,x.jsx)("span",{children:(null===t||void 0===t?void 0:t.phone_number)||"N/A"})]}),(0,x.jsxs)("div",{className:"flex gap-4",children:[(0,x.jsx)("span",{className:"font-medium text-gray-600 w-32",children:"\u0110\u1ecba ch\u1ec9:"}),(0,x.jsx)("span",{children:(null===t||void 0===t?void 0:t.address)||"N/A"})]}),(0,x.jsxs)("div",{className:"flex gap-4",children:[(0,x.jsx)("span",{className:"font-medium text-gray-600 w-32",children:"M\xf4 t\u1ea3:"}),(0,x.jsx)("span",{children:(null===t||void 0===t?void 0:t.description)||"N/A"})]})]})]}),(0,x.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,x.jsx)("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"Gi\u1edd m\u1edf c\u1eeda"}),null!==t&&void 0!==t&&t.opening_hours?(0,x.jsx)("div",{className:"grid gap-2",children:JSON.parse(t.opening_hours).map(((e,s)=>(0,x.jsxs)("div",{className:"flex justify-between items-center py-1.5 border-b last:border-0 text-sm",children:[(0,x.jsx)("span",{className:"font-medium text-gray-600",children:e.day}),(0,x.jsx)("span",{className:"text-gray-800",children:e.open===e.close?"\u0110\xf3ng c\u1eeda":`${e.open} - ${e.close}`})]},s)))}):(0,x.jsx)("p",{className:"text-gray-500 text-sm",children:"Ch\u01b0a c\xf3 th\xf4ng tin gi\u1edd m\u1edf c\u1eeda"})]})]})]}),(0,x.jsx)("div",{children:(0,x.jsx)(m.A,{reviews:u,type:"restaurant"})})]})]}):"products"===v?(0,x.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:b?(0,x.jsx)("div",{className:"flex justify-center py-8",children:(0,x.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full"})}):(0,x.jsx)(h,{products:i})}):"orders"===v?(0,x.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:b?(0,x.jsx)("div",{className:"flex justify-center py-8",children:(0,x.jsx)("div",{className:"animate-spin h-8 w-8 border-4 border-orange-500 border-t-transparent rounded-full"})}):(0,x.jsx)(o.A,{orders:p,userType:"restaurant"})}):"coupons"===v?(0,x.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,x.jsx)(g,{coupons:j})}):null]})})}},4089:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});t(5043);var a=t(6178),r=t.n(a),n=(t(5590),t(3216)),l=t(579);const d=e=>{let{orders:s,userType:t="restaurant"}=e;const a=(0,n.Zp)();console.log(s);const d=e=>{a(`/admin/order/${e}`)},c=e=>`px-2 py-1 text-base rounded-full ${i(e)} font-medium`,i=e=>({PAID:"bg-red-100 text-red-800",UNPAID:"bg-red-100 text-red-800",PREPARING_ORDER:"bg-yellow-100 text-yellow-800",ORDER_CANCELED:"bg-red-100 text-red-800",DELIVERING:"bg-blue-100 text-blue-800",GIVED_ORDER:"bg-purple-100 text-purple-800",ORDER_RECEIVED:"bg-purple-100 text-purple-800",ORDER_CONFIRMED:"bg-green-100 text-green-800"}[e]||"bg-gray-100 text-gray-800"),x=e=>({PAID:"\u0110\xe3 thanh to\xe1n",UNPAID:"Ch\u01b0a thanh to\xe1n",PREPARING_ORDER:"\u0110ang chu\u1ea9n b\u1ecb \u0111\u01a1n h\xe0ng",ORDER_CANCELED:"\u0110\xe3 h\u1ee7y \u0111\u01a1n h\xe0ng",DELIVERING:"\u0110ang giao h\xe0ng",GIVED_ORDER:"\u0110\xe3 giao h\xe0ng",ORDER_RECEIVED:"\u0110\xe3 nh\u1eadn h\xe0ng",ORDER_CONFIRMED:"\u0110\xe3 x\xe1c nh\u1eadn \u0111\u01a1n h\xe0ng"}[e]||e),h=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),m=()=>(0,l.jsxs)("table",{className:"w-full text-base text-left text-gray-700",children:[(0,l.jsx)("thead",{className:"text-base text-gray-700 uppercase bg-gray-100 border-b",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"py-3 px-4",children:"M\xe3 \u0110H"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"Kh\xe1ch h\xe0ng"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"\u0110\u1ecba ch\u1ec9"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"T\u1ed5ng ti\u1ec1n"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"PTTT"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"Tr\u1ea1ng th\xe1i"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"Th\u1eddi gian"})]})}),(0,l.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map((e=>(0,l.jsxs)("tr",{className:"bg-white border-b hover:bg-blue-300 cursor-pointer",onClick:()=>d(e.order_id),children:[(0,l.jsxs)("td",{className:"py-2 px-4 font-medium text-base",children:["#",e.id]}),(0,l.jsxs)("td",{className:"py-2 px-4 font-medium text-base",children:[(0,l.jsx)("div",{children:e.receiver_name}),(0,l.jsx)("div",{className:"text-base text-gray-500",children:e.phone_number})]}),(0,l.jsx)("td",{className:"py-2 px-4 font-medium text-base truncate max-w-xs",children:e.address}),(0,l.jsxs)("td",{className:"py-2 px-4 font-medium text-base",children:[(0,l.jsx)("div",{children:h(parseFloat(e.price))}),(0,l.jsxs)("div",{className:"text-base text-gray-500",children:["+ ",h(parseFloat(e.delivery_fee))," ph\xed ship"]})]}),(0,l.jsx)("td",{className:"py-2 px-4 font-medium text-base",children:e.order_pay}),(0,l.jsx)("td",{className:"py-2 px-4 font-medium text-base",children:(0,l.jsx)("span",{className:c(e.order_status),children:x(e.order_status)})}),(0,l.jsxs)("td",{className:"py-2 px-4 font-medium text-base",children:[(0,l.jsx)("div",{children:r()(e.order_date).format("DD/MM/YYYY")}),(0,l.jsx)("div",{className:"text-base text-gray-500",children:r()(e.order_date).format("HH:mm")})]})]},e.order_id)))})]}),o=()=>(0,l.jsxs)("table",{className:"w-full text-left text-gray-700",children:[(0,l.jsx)("thead",{className:"text-base text-gray-700 uppercase bg-gray-100 border-b",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"py-3 px-4",children:"M\xe3 \u0110H"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"Kh\xe1ch h\xe0ng"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"\u0110\u1ecba ch\u1ec9"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"T\u1ed5ng ti\u1ec1n"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"PTTT"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"Tr\u1ea1ng th\xe1i"}),(0,l.jsx)("th",{className:"py-3 px-4",children:"Th\u1eddi gian"})]})}),(0,l.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map((e=>(0,l.jsxs)("tr",{className:"bg-white border-b hover:bg-blue-300 cursor-pointer",onClick:()=>d(e.id),children:[(0,l.jsx)("td",{className:"py-2 px-4 font-medium text-base",children:e.order_id}),(0,l.jsxs)("td",{className:"py-2 px-4 font-medium text-base",children:[(0,l.jsx)("div",{className:"text-base",children:e.receiver_name}),(0,l.jsx)("div",{className:"text-base text-gray-500",children:e.phone_number})]}),(0,l.jsx)("td",{className:"py-2 px-4 font-medium text-base truncate max-w-xs",children:e.address}),(0,l.jsxs)("td",{className:"py-2 px-4 font-medium text-base",children:[(0,l.jsx)("div",{children:h(parseFloat(e.price))}),(0,l.jsxs)("div",{className:"text-base text-gray-500",children:["+ ",h(parseFloat(e.delivery_fee))," ph\xed ship"]})]}),(0,l.jsx)("td",{className:"py-2 px-4 font-medium text-base",children:e.order_pay}),(0,l.jsx)("td",{className:"py-2 px-4 font-medium text-base",children:(0,l.jsx)("span",{className:c(e.order_status),children:x(e.order_status)})}),(0,l.jsxs)("td",{className:"py-2 px-4 font-medium text-base",children:[(0,l.jsx)("div",{children:r()(e.order_date).format("DD/MM/YYYY")}),(0,l.jsx)("div",{className:"text-base text-gray-500",children:r()(e.order_date).format("HH:mm")})]})]},e.order_id)))})]});return(0,l.jsxs)("div",{className:"overflow-x-auto",children:["restaurant"===t?(0,l.jsx)(m,{}):(0,l.jsx)(o,{}),(!s||0===s.length)&&(0,l.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Ch\u01b0a c\xf3 \u0111\u01a1n h\xe0ng n\xe0o"})]})}},9413:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});t(5043);var a=t(6178),r=t.n(a),n=(t(5590),t(579));const l=e=>{let{reviews:s,type:t}=e;const a=e=>"driver"===t?{rating:e.dri_rating,comment:e.dri_comment}:{rating:e.res_rating,comment:e.res_comment},l=(()=>{if(!s||0===s.length)return 0;return(s.reduce(((e,s)=>{const{rating:t}=a(s);return e+t}),0)/s.length).toFixed(1)})();return(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,n.jsx)("div",{className:"p-5 border-b border-gray-100",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"\u0110\xe1nh gi\xe1 t\u1eeb kh\xe1ch h\xe0ng"}),s&&s.length>0&&(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)("div",{className:"flex items-center bg-yellow-50 px-3 py-1 rounded-full",children:[(0,n.jsx)("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,n.jsx)("span",{className:"ml-1 font-medium text-gray-800",children:l}),(0,n.jsxs)("span",{className:"ml-1 text-sm text-gray-500",children:["(",s.length," \u0111\xe1nh gi\xe1)"]})]})})]})}),(0,n.jsx)("div",{className:"divide-y divide-gray-100",children:s&&s.length>0?s.map((e=>{const{rating:s,comment:t}=a(e);return(0,n.jsx)("div",{className:"p-5 hover:bg-gray-50 transition-colors",children:(0,n.jsxs)("div",{className:"flex items-start",children:[(0,n.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,n.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-medium",children:e.name.charAt(0).toUpperCase()})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,n.jsx)("div",{className:"flex items-center mt-1",children:(0,n.jsx)("div",{className:"flex",children:[...Array(5)].map(((e,t)=>(0,n.jsx)("svg",{className:"w-4 h-4 "+(t<s?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t)))})})]}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:r()(e.createdAt).format("DD/MM/YYYY HH:mm")})]}),t&&(0,n.jsx)("div",{className:"text-gray-700 mb-3 whitespace-pre-line rounded-lg bg-gray-50 p-3",children:t}),(0,n.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,n.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.phone_number]})]})]})},e.id)})):(0,n.jsx)("div",{className:"py-12 px-4",children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,n.jsx)("div",{className:"bg-gray-100 rounded-full p-3 mb-4",children:(0,n.jsx)("svg",{className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,n.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:"Ch\u01b0a c\xf3 \u0111\xe1nh gi\xe1 n\xe0o"}),(0,n.jsx)("p",{className:"mt-1 text-gray-500",children:"C\xe1c \u0111\xe1nh gi\xe1 t\u1eeb kh\xe1ch h\xe0ng s\u1ebd xu\u1ea5t hi\u1ec7n \u1edf \u0111\xe2y"})]})})})]})}},5590:function(e,s,t){!function(e){"use strict";e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,s,t){return e<12?t?"sa":"SA":t?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(t(6178))}}]);
//# sourceMappingURL=154.fbfaf091.chunk.js.map