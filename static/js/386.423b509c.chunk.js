"use strict";(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[386],{4386:(e,a,l)=>{l.r(a),l.d(a,{default:()=>i});var r=l(5043),t=l(3003),s=l(8425),n=l(579);const i=()=>{const e=(0,t.wA)(),a=(0,t.d4)((e=>e.product))||{},{loader:l=!1,successMessage:i="",errorMessage:c=""}=a,[d,o]=(0,r.useState)({name:"",descriptions:"",price:0,quantity:0,is_available:!0,is_draft:!1}),[m,u]=(0,r.useState)(null),b=e=>{const{name:a,value:l,type:r,checked:t}=e.target;o({...d,[a]:"checkbox"===r?t:l})};return(0,r.useEffect)((()=>{if(i||c){const a=setTimeout((()=>{e((0,s.Tn)())}),3e3);return()=>clearTimeout(a)}}),[i,c,e]),(0,n.jsxs)("div",{className:"w-full p-6 bg-white rounded-lg shadow-md",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Add new product"}),i&&(0,n.jsx)("div",{className:"text-green-600 mb-4",children:i}),c&&(0,n.jsx)("div",{className:"text-red-600 mb-4",children:c}),(0,n.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const l=new FormData;Object.keys(d).forEach((e=>{l.append(e,d[e])})),m&&l.append("image",m);try{await e((0,s.ye)(l)).unwrap(),o({name:"",descriptions:"",price:0,quantity:0,is_available:!0,is_draft:!1}),u(null)}catch(r){console.error("Failed to add product:",r)}},className:"space-y-8 w-full",children:[(0,n.jsxs)("div",{className:"mb-6 w-full",children:[(0,n.jsx)("label",{htmlFor:"name",className:"block mb-2 text-lg font-medium text-gray-900",children:"T\xean s\u1ea3n ph\u1ea9m"}),(0,n.jsx)("input",{type:"text",id:"name",name:"name",value:d.name,onChange:b,className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14",placeholder:"Enter name product",required:!0})]}),(0,n.jsxs)("div",{className:"mb-6 w-full",children:[(0,n.jsx)("label",{htmlFor:"image",className:"block mb-2 text-lg font-medium text-gray-900",children:"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"}),(0,n.jsx)("input",{type:"file",id:"image",name:"image",onChange:e=>{const a=e.target.files[0];if(a){u(a);const e=URL.createObjectURL(a);o({...d,image:e})}},className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14",accept:"image/*",required:!0}),d.image&&(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)("img",{src:d.image,alt:"Preview",className:"max-h-64 max-w-full h-auto object-contain rounded-lg border",onError:e=>e.target.src="https://via.placeholder.com/150?text=Preview"})})]}),(0,n.jsxs)("div",{className:"mb-6 w-full",children:[(0,n.jsx)("label",{htmlFor:"descriptions",className:"block mb-2 text-lg font-medium text-gray-900",children:"M\xf4 t\u1ea3"}),(0,n.jsx)("textarea",{id:"descriptions",name:"descriptions",value:d.descriptions,onChange:b,rows:"6",className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4",placeholder:"M\xf3n c\u01a1m \u0111\u1ebfn t\u1eeb v\xf9ng provip."})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{htmlFor:"price",className:"block mb-2 text-lg font-medium text-gray-900",children:"Gi\xe1 (VN\u0110)"}),(0,n.jsx)("input",{type:"number",id:"price",name:"price",value:d.price,onChange:b,className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14",placeholder:"40000",min:"0",required:!0})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{htmlFor:"quantity",className:"block mb-2 text-lg font-medium text-gray-900",children:"S\u1ed1 l\u01b0\u1ee3ng"}),(0,n.jsx)("input",{type:"number",id:"quantity",name:"quantity",value:d.quantity,onChange:b,className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14",placeholder:"10",min:"0",required:!0})]})]}),(0,n.jsx)("div",{className:"flex justify-start mb-6 w-full",children:(0,n.jsxs)("div",{className:"flex items-center mr-8",children:[(0,n.jsx)("input",{id:"is_available",type:"checkbox",name:"is_available",checked:d.is_available,onChange:b,className:"w-5 h-5 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300"}),(0,n.jsx)("label",{htmlFor:"is_available",className:"ms-3 text-lg font-medium text-gray-900",children:"C\xf3 s\u1eb5n"})]})}),(0,n.jsxs)("div",{className:"flex justify-between w-full",children:[(0,n.jsx)("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-lg w-full sm:w-auto px-8 py-4 text-center",disabled:l,children:l?"Adding...":"Th\xeam s\u1ea3n ph\u1ea9m"}),(0,n.jsx)("button",{type:"button",className:"text-gray-700 bg-gray-200 hover:bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-lg w-full sm:w-auto px-8 py-4 text-center",onClick:()=>{o({name:"",image:"",descriptions:"",price:0,quantity:0,is_available:!0,is_draft:!1}),u(null)},children:"H\u1ee7y"})]})]})]})}}}]);
//# sourceMappingURL=386.423b509c.chunk.js.map