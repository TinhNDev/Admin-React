"use strict";(self.webpackChunkadmin_react=self.webpackChunkadmin_react||[]).push([[386],{4386:(e,a,l)=>{l.r(a),l.d(a,{default:()=>c});var r=l(9379),t=l(5043),s=l(3003),n=l(8425),i=l(579);const c=()=>{const e=(0,s.wA)(),a=(0,s.d4)((e=>e.product))||{},{loader:l=!1,successMessage:c="",errorMessage:d=""}=a,[o,m]=(0,t.useState)({name:"",descriptions:"",price:0,quantity:0,is_available:!0,is_draft:!1}),[u,b]=(0,t.useState)(null),g=e=>{const{name:a,value:l,type:t,checked:s}=e.target;m((0,r.A)((0,r.A)({},o),{},{[a]:"checkbox"===t?s:l}))};return(0,t.useEffect)((()=>{if(c||d){const a=setTimeout((()=>{e((0,n.Tn)())}),3e3);return()=>clearTimeout(a)}}),[c,d,e]),(0,i.jsxs)("div",{className:"w-full p-6 bg-white rounded-lg shadow-md",children:[(0,i.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Add new product"}),c&&(0,i.jsx)("div",{className:"text-green-600 mb-4",children:c}),d&&(0,i.jsx)("div",{className:"text-red-600 mb-4",children:d}),(0,i.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const l=new FormData;Object.keys(o).forEach((e=>{l.append(e,o[e])})),u&&l.append("image",u);try{await e((0,n.ye)(l)).unwrap(),m({name:"",descriptions:"",price:0,quantity:0,is_available:!0,is_draft:!1}),b(null)}catch(r){console.error("Failed to add product:",r)}},className:"space-y-8 w-full",children:[(0,i.jsxs)("div",{className:"mb-6 w-full",children:[(0,i.jsx)("label",{htmlFor:"name",className:"block mb-2 text-lg font-medium text-gray-900",children:"T\xean s\u1ea3n ph\u1ea9m"}),(0,i.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:g,className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14",placeholder:"Enter name product",required:!0})]}),(0,i.jsxs)("div",{className:"mb-6 w-full",children:[(0,i.jsx)("label",{htmlFor:"image",className:"block mb-2 text-lg font-medium text-gray-900",children:"H\xecnh \u1ea3nh s\u1ea3n ph\u1ea9m"}),(0,i.jsx)("input",{type:"file",id:"image",name:"image",onChange:e=>{const a=e.target.files[0];if(a){b(a);const e=URL.createObjectURL(a);m((0,r.A)((0,r.A)({},o),{},{image:e}))}},className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14",accept:"image/*",required:!0}),o.image&&(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)("img",{src:o.image,alt:"Preview",className:"max-h-64 max-w-full h-auto object-contain rounded-lg border",onError:e=>e.target.src="https://via.placeholder.com/150?text=Preview"})})]}),(0,i.jsxs)("div",{className:"mb-6 w-full",children:[(0,i.jsx)("label",{htmlFor:"descriptions",className:"block mb-2 text-lg font-medium text-gray-900",children:"M\xf4 t\u1ea3"}),(0,i.jsx)("textarea",{id:"descriptions",name:"descriptions",value:o.descriptions,onChange:g,rows:"6",className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4",placeholder:"M\xf3n c\u01a1m \u0111\u1ebfn t\u1eeb v\xf9ng provip."})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{htmlFor:"price",className:"block mb-2 text-lg font-medium text-gray-900",children:"Gi\xe1 (VN\u0110)"}),(0,i.jsx)("input",{type:"number",id:"price",name:"price",value:o.price,onChange:g,className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14",placeholder:"40000",min:"0",required:!0})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{htmlFor:"quantity",className:"block mb-2 text-lg font-medium text-gray-900",children:"S\u1ed1 l\u01b0\u1ee3ng"}),(0,i.jsx)("input",{type:"number",id:"quantity",name:"quantity",value:o.quantity,onChange:g,className:"bg-gray-50 border border-gray-300 text-gray-900 text-md rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-4 h-14",placeholder:"10",min:"0",required:!0})]})]}),(0,i.jsx)("div",{className:"flex justify-start mb-6 w-full",children:(0,i.jsxs)("div",{className:"flex items-center mr-8",children:[(0,i.jsx)("input",{id:"is_available",type:"checkbox",name:"is_available",checked:o.is_available,onChange:g,className:"w-5 h-5 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300"}),(0,i.jsx)("label",{htmlFor:"is_available",className:"ms-3 text-lg font-medium text-gray-900",children:"C\xf3 s\u1eb5n"})]})}),(0,i.jsxs)("div",{className:"flex justify-between w-full",children:[(0,i.jsx)("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-lg w-full sm:w-auto px-8 py-4 text-center",disabled:l,children:l?"Adding...":"Th\xeam s\u1ea3n ph\u1ea9m"}),(0,i.jsx)("button",{type:"button",className:"text-gray-700 bg-gray-200 hover:bg-gray-300 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-lg w-full sm:w-auto px-8 py-4 text-center",onClick:()=>{m({name:"",image:"",descriptions:"",price:0,quantity:0,is_available:!0,is_draft:!1}),b(null)},children:"H\u1ee7y"})]})]})]})}}}]);
//# sourceMappingURL=386.b71797f3.chunk.js.map